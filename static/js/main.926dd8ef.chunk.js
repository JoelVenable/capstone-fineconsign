(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{226:function(e,t,a){},257:function(e,t,a){e.exports=a.p+"static/media/hero-4k.07c6dcba.jpg"},258:function(e,t,a){e.exports=a.p+"static/media/hero-1080p.105caf1a.jpg"},259:function(e,t,a){e.exports=a.p+"static/media/hero-retina2.3d3ec0ed.jpg"},260:function(e,t,a){e.exports=a.p+"static/media/hero-1024-2.ae4bc4c5.jpg"},261:function(e,t,a){e.exports=a.p+"static/media/hero-mobile-retina.45ddd260.jpg"},262:function(e,t,a){e.exports=a.p+"static/media/hero-mobile-small.bc825967.jpg"},263:function(e,t,a){e.exports=a.p+"static/media/gallery-lg.35e56c7a.jpg"},274:function(e,t,a){e.exports=a(449)},279:function(e,t,a){},438:function(e,t,a){},447:function(e,t,a){},448:function(e,t,a){},449:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(74),i=a.n(l),c=(a(279),a(280),a(24)),o=a(228),u=a.n(o),s=a(122),m=a(18),d=a.n(m),p=a(8),E=a(21),h=a(56),f=a(57),g=a(59),b=a(58),v=a(60),y=a(64),C="https://fineconsign-api.herokuapp.com";function O(e){this.create=function(t){return fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(w).catch(S)},this.getAll=function(t){return fetch(e+(t||"")).then(w).catch(S)},this.getOne=function(t){return fetch("".concat(e,"/").concat(t)).then(w).catch(S)},this.update=function(t,a){return fetch("".concat(e,"/").concat(t),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(w).catch(S)},this.replace=function(t,a){return fetch("".concat(e,"/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(w).catch(S)},this.delete=function(t){return fetch("".concat(e,"/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"}}).catch(S)}}function w(e){if(404===e.status)throw new Error("404 error.  Check your JSON file!");return e.json()}function S(e){return console.log(e)}var j=new O("".concat(C,"/customers")),x={create:function(e){return j.create(e)},getAll:function(){return j.getAll("?_expand=user")},getFromUserId:function(e){return j.getAll("?userId=".concat(e))},edit:function(e,t){return j.update(e,t)},delete:function(e){return j.delete(e)}},I=new O("".concat(C,"/employees")),k={create:function(e){return I.create(e)},getAll:function(){return I.getAll("?_expand=user")},getFromUserId:function(e){return I.getAll("?userId=".concat(e))},edit:function(e,t){return I.update(e,t)},delete:function(e){return I.delete(e)}},T=new O("".concat(C,"/paintings")),P={create:function(e){return T.create(e)},getAll:function(){return T.getAll("?_expand=artist")},getOne:function(e){return T.getOne("".concat(e,"?_expand=artist"))},edit:function(e,t){return T.update(e,t)},delete:function(e){return T.delete(e)}},A=new O("".concat(C,"/orders")),N={create:function(e){return A.create(e)},getAll:function(){return A.getAll("?_embed=orderItems&_expand=customer")},getOne:function(e){return A.getAll("/".concat(e,"?_embed=orderItems&_expand=customer"))},getMine:function(e){return A.getAll("?customerId=".concat(e))},getMyOpenCart:function(e){return A.getAll("?customerId=".concat(e,"&isSubmitted=false&_embed=orderItems")).then(function(e){return e.length>1&&console.log("Warning, multiple carts found!"),e.length>0?e:["not found"]})},edit:function(e,t){return A.update(e,t)},delete:function(e){return A.delete(e)}},D=new O("".concat(C,"/orderItems")),F={create:function(e){return D.create(e)},findExisting:function(e,t){return D.getAll("?orderId=".concat(e,"&paintingId=").concat(t))},getAll:function(){return D.getAll()},edit:function(e,t){return D.update(e,t)},delete:function(e){return D.delete(e)}},L=new O("".concat(C,"/users")),U={checkExisting:function(e){return L.getAll("?username=".concat(e.username)).then(function(e){if(0!==e.length)throw new Error("Username already exists!");return null})},register:function(e){return L.create(e)},getAll:function(){return L.getAll()},edit:function(e,t){return L.update(e,t)},delete:function(e){return L.delete(e)},login:function(){var e=Object(E.a)(d.a.mark(function e(t,a){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.getAll("?username=".concat(t,"&password=").concat(a));case 2:if(!(n=e.sent).length){e.next=5;break}return e.abrupt("return",n[0]);case 5:throw new Error("Login error!  No users found with that username/password.");case 6:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},M=new O("".concat(C,"/artists")),R={create:function(e){return M.create(e)},getAll:function(){return M.getAll("?_embed=paintings")},getFromUserId:function(e){return M.getAll("?userId=".concat(e))},edit:function(e,t){return M.update(e,t)},delete:function(e){return M.delete(e)}},B=new O("".concat(C,"/stores")),H={employees:k,customers:x,paintings:P,orders:N,orderItems:F,artists:R,users:U,stores:{create:function(e){return B.create(e)},get:function(){return B.getOne(1)},edit:function(e,t){return B.update(e,t)},delete:function(e){return B.delete(e)}}},z=a(463),W=a(472),G=a(450),q=a(77);function V(e){var t=e.title,a=e.text,n=e.hide,l=e.isVisible,i=e.textColor;return r.a.createElement(z.a,{open:l,onClose:n,basic:!0,size:"small"},r.a.createElement(W.a,{icon:"warning",color:i,content:t}),a?r.a.createElement(z.a.Content,null,r.a.createElement("h3",null,a)):null,r.a.createElement(z.a.Actions,null,r.a.createElement(G.a,{color:"grey",onClick:n},r.a.createElement(q.a,{name:"checkmark"})," ","Ok")))}function Y(e){var t=e.title,a=e.text,n=e.id,l=e.hide,i=e.isVisible,c=e.confirmAction,o=e.confirmBtnColor,u=e.icon,s=e.btnIcon,m=e.btnText;return r.a.createElement(z.a,{open:i,onClose:l},r.a.createElement(W.a,{icon:u,content:t}),a?r.a.createElement(z.a.Content,null,r.a.createElement("h4",null,a)):null,r.a.createElement(z.a.Actions,null,r.a.createElement(G.a,{color:"grey",onClick:l},r.a.createElement(q.a,{name:"user cancel"})," No"),r.a.createElement(G.a,{color:o,onClick:function(){n?c(n):c(),l()}},r.a.createElement(q.a,{name:s})," ".concat(m))))}V.defaultProps={text:null,textColor:"orange"},Y.defaultProps={title:"",text:null,id:NaN,icon:null,confirmAction:null,confirmBtnColor:"green",btnIcon:"check",btnText:"Yes"};var $=a(264),J=a(470),_=a(462),K=a(469),Q=a(457),X=a(466),Z=[{key:"customer",text:"Customer",value:"customer",icon:"user"},{key:"artist",text:"Artist",value:"artist",icon:"paint brush"},{key:"employee",text:"Employee",value:"employee",icon:"id card"}];function ee(e){var t=e.userType,a=e.setUserType,n=e.disabled;return r.a.createElement(X.a,{selection:!0,disabled:n,placeholder:"Select user type",value:t,onChange:function(e,t){var n=t.value;a(n)},options:Z})}function te(e){var t=e.showError,a=e.showConfirm,l=e.warning,i=e.handleFieldChange,c=e.handleUserTypeChange,o=e.handleStepOneSubmit,u=e.handleEmployeeSubmit,s=e.userType,m=e.username,d=e.email,E=e.password,h=e.showStepTwo,f=Object(n.useState)(!1),g=Object(p.a)(f,2),b=g[0],v=g[1],y=Object(n.useState)(!1),C=Object(p.a)(y,2),O=C[0],w=C[1],S=Object(n.useState)(!1),j=Object(p.a)(S,2),x=j[0],I=j[1],k=Object(n.useState)(!1),T=Object(p.a)(k,2),P=T[0],A=T[1],N=Object(n.useState)(!1),D=Object(p.a)(N,2),F=D[0],L=D[1],U=function(e){I(!1),i(e)};return r.a.createElement(_.a,{warning:l,success:O,error:x,size:"tiny",loading:P},r.a.createElement(_.a.Input,{placeholder:"Username",value:m,id:"username",icon:"users",disabled:F,iconPosition:"left",onChange:U}),r.a.createElement(K.a,{size:"mini",success:!0,header:"Username is availble!",icon:"check"}),r.a.createElement(K.a,{size:"mini",error:!0,header:"Username is already taken!",icon:"cancel"}),r.a.createElement(_.a.Input,{placeholder:"email",id:"email",disabled:F,value:d,icon:"mail",type:"email",iconPosition:"left",onChange:U}),r.a.createElement(_.a.Input,{placeholder:"password",value:E,id:"password",disabled:F,icon:"lock",type:"password",iconPosition:"left",onChange:U}),r.a.createElement(_.a.Field,null,r.a.createElement(ee,{userType:s,disabled:F,setUserType:c})),r.a.createElement(K.a,{size:"mini",warning:!0,header:"Employee accounts require administrator approval!",icon:"alarm"}),r.a.createElement(Q.a,{label:"I accept the terms and conditions",checked:b,onChange:function(){return v(!b)}}),r.a.createElement(G.a,{type:"submit",disabled:F,variant:"contained",color:"blue",style:{float:"right"},icon:!0,labelPosition:"right",onClick:function(e){e.preventDefault(),b?(A(!0),"employee"!==s?o().then(function(){w(!0),setTimeout(h,1e3)}).catch(function(){I(!0),A(!1)}):a({title:"New Employee accounts require manual administrator approval",text:"Are you sure you need an employee account?",confirmAction:function(){A(!1),L(!0),u()},confirmBtnColor:"blue",icon:"id card",btnIcon:"send",btnText:"Send it!"})):t("Please accept the terms and conditions")}},"Continue",r.a.createElement(q.a,{name:"right arrow"})))}function ae(e){var t=e.firstName,a=e.lastName,l=e.address,i=e.city,c=e.state,o=e.zipcode,u=e.username,s=e.password,m=e.handleFieldChange,d=e.handleStepTwoSubmit,E=e.login,h=e.redirect,f=Object(n.useState)(!1),g=Object(p.a)(f,2),b=g[0],v=g[1],y=Object(n.useState)(!1),C=Object(p.a)(y,2),O=C[0],w=C[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{success:O,size:"tiny",loading:b},r.a.createElement(_.a.Group,{widths:"equal"},r.a.createElement(_.a.Input,{placeholder:"First Name",value:t,id:"firstName",onChange:m}),r.a.createElement(_.a.Input,{placeholder:"Last Name",value:a,id:"lastName",onChange:m})),r.a.createElement(_.a.Group,{widths:"equal"},r.a.createElement(_.a.Input,{placeholder:"Your street address",value:l,id:"address",onChange:m}),r.a.createElement(_.a.Input,{placeholder:"Your city",value:i,id:"city",onChange:m})),r.a.createElement(_.a.Group,{widths:"equal"},r.a.createElement(_.a.Input,{placeholder:"State",value:c,id:"state",onChange:m}),r.a.createElement(_.a.Input,{placeholder:"zipcode",value:o,id:"zipcode",onChange:m})),r.a.createElement(K.a,{size:"mini",success:!0,header:"Success!",icon:"check"}),r.a.createElement(G.a,{type:"submit",variant:"contained",color:"blue",style:{float:"right"},icon:!0,labelPosition:"left",onClick:function(e){e.preventDefault(),v(!0),d().then(function(){E(u,s),w(!0),setTimeout(h,600)})}},"Register",r.a.createElement(q.a,{name:"plus"}))))}ee.defaultProps={disabled:!1};var ne=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(g.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",username:"",userType:"customer",terms:!1,warning:!1,step:1,firstName:"",lastName:"",address:"",city:"",state:"",zipcode:"",accountBalance:0},a.handleFieldChange=function(e){a.setState(Object(s.a)({},e.target.id,e.target.value))},a.toggleCheck=function(){return a.setState(function(e){return{terms:!e.terms}})},a.handleUserTypeChange=function(e){"employee"===e?a.setState({warning:!0,userType:e}):a.setState({warning:!1,userType:e})},a.handleStepOneSubmit=function(){var e=a.state.username;return H.users.checkExisting({username:e})},a.createUser=function(){var e=a.state,t=e.email,n=e.password,r=e.username,l=e.userType,i=e.warning;return H.users.register({email:t,password:n,username:r,userType:l,isActive:!i})},a.handleEmployeeSubmit=function(){a.createUser().then(function(e){var t=e.id;H.employees.create({userId:t,canEditInventory:!1,canProcessOrders:!1,canEditEmployees:!1,canEditUsers:!1})})},a.handleStepTwoSubmit=Object(E.a)(d.a.mark(function e(){var t,n,r,l,i,c,o,u,s,m;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.userType,r=t.firstName,l=t.lastName,i=t.address,c=t.city,o=t.state,u=t.zipcode,s=t.accountBalance,m={firstName:r,lastName:l,address:i,city:c,state:o,zipcode:u,accountBalance:s},"artist"===n&&(m.description=null,m.imageUrl=null,m.avatarUrl=null,m.hometown=null,m.profitRatio=.6,m.phoneNumber=null,m.isActive=!1,m.activeDate=null),e.abrupt("return",a.createUser().then(function(e){var t=e.id;m.userId=t,H["".concat(n,"s")].create(m)}));case 4:case"end":return e.stop()}},e)})),a.showStepTwo=function(){a.setState({step:2})},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.state.step,t=this.props,a=t.login,n=t.redirect,l=t.showError,i=t.showConfirm;return r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a.Group,{widths:2,size:"mini"},r.a.createElement(J.a,{active:1===e},r.a.createElement(q.a,{size:"mini",name:"lock"}),r.a.createElement(J.a.Content,null,r.a.createElement(J.a.Title,null,"User Account"),r.a.createElement(J.a.Description,null,"Your login credentials"))),r.a.createElement(J.a,{active:2===e},r.a.createElement(q.a,{size:"mini",name:"info circle"}),r.a.createElement(J.a.Content,null,r.a.createElement(J.a.Title,null,"Details"),r.a.createElement(J.a.Description,null,"Your Profile")))),1===e?r.a.createElement(te,Object.assign({},this.state,{handleFieldChange:this.handleFieldChange,handleUserTypeChange:this.handleUserTypeChange,handleEmployeeSubmit:this.handleEmployeeSubmit,handleStepOneSubmit:this.handleStepOneSubmit,showStepTwo:this.showStepTwo,showError:l,showConfirm:i})):r.a.createElement(ae,Object.assign({},this.state,{handleFieldChange:this.handleFieldChange,handleStepTwoSubmit:this.handleStepTwoSubmit,login:a,redirect:n})))}}]),t}(n.Component),re=a(458);function le(e){var t=e.login,a=e.redirect,l=Object(n.useState)(""),i=Object(p.a)(l,2),c=i[0],o=i[1],u=Object(n.useState)(""),s=Object(p.a)(u,2),m=s[0],h=s[1],f=Object(n.useState)(!1),g=Object(p.a)(f,2),b=g[0],v=g[1],y=Object(n.useState)(!1),C=Object(p.a)(y,2),O=C[0],w=C[1],S=function(e){return new Promise(function(t){return setTimeout(t,e)})},j=function(e){"username"===e.target.id?o(e.target.value):"password"===e.target.id&&h(e.target.value)},x=function(){var e=Object(E.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.abrupt("return",S(300));case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement(_.a,{loading:b,success:O},r.a.createElement(K.a,{size:"mini",success:!0,header:"Success!",icon:"check"}),r.a.createElement(_.a.Field,null,r.a.createElement(re.a,{placeholder:"Username",value:c,id:"username",icon:"users",iconPosition:"left",onChange:j})),r.a.createElement(_.a.Field,null,r.a.createElement(re.a,{placeholder:"password",id:"password",icon:"lock",value:m,type:"password",iconPosition:"left",onChange:j})),r.a.createElement(G.a,{type:"submit",style:{float:"right"},color:"blue",onClick:function(e){e.preventDefault(),v(!0),t(c,m).then(x).then(a).catch(function(){v(!1),o(""),h("")})}},"Sign In"))}function ie(e){var t=e.isOpen,a=e.handleClose,l=e.login,i=e.redirect,c=e.showError,o=e.showConfirm,u=Object(n.useState)("menuItem--0"),s=Object(p.a)(u,2),m=s[0],d=s[1];function E(e){d(e.target.id)}return r.a.createElement(z.a,{open:t,onClose:a,size:"small"},r.a.createElement(z.a.Header,null,r.a.createElement($.a,{className:"loginRegisterMenu"},r.a.createElement($.a.Item,{className:"loginRegisterMenu-item",name:"Login",active:"menuItem--0"===m,onClick:E,id:"menuItem--0"},"LOGIN"),r.a.createElement($.a.Item,{className:"loginRegisterMenu-item",name:"Register",active:"menuItem--1"===m,onClick:E,id:"menuItem--1"},"REGISTER"))),r.a.createElement(z.a.Content,{style:{marginBottom:"2rem"}},"menuItem--1"===m?r.a.createElement(ne,{showError:c,showConfirm:o,login:l,redirect:i}):r.a.createElement(le,{login:l,redirect:i})))}var ce=r.a.createContext(),oe=ce.Consumer,ue=function(e){function t(e){var a;Object(h.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).handleLoginClose=function(){return a.setState({isLoginModalVisible:!1})},a.doLogin=function(){var e=Object(E.a)(d.a.mark(function e(t,n){var r,l,i,c,o,u,s,m;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.state,l=r.showError,i=r.getOpenCart,sessionStorage.clear(),e.next=4,H.users.login(t,n).catch(a.handleInvalidLogin);case 4:if(!(c=e.sent)){e.next=21;break}if(c.isActive){e.next=9;break}return l("This user account has been deactivated!"),e.abrupt("return",null);case 9:return o=c.userType,e.next=12,H["".concat(o,"s")].getFromUserId(c.id);case 12:u=e.sent,s=Object(p.a)(u,1),m=s[0],c[o]=m,sessionStorage.setItem("userdata",JSON.stringify(c)),a.setState({user:c},i),setTimeout(a.handleLoginClose,500),e.next=22;break;case 21:throw new Error("login failed");case 22:return e.abrupt("return",null);case 23:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.redirect=function(){var e=a.props,t=e.location,n=e.history,r=a.state,l=r.user,i=r.get;return l?("/"===t.pathname&&("employee"===l.userType&&(i.orders(),i.orderItems(),n.push("/paintings")),"artist"===l.userType&&n.push("/paintings"),"customer"===l.userType&&n.push("/gallery")),null):null},a.hideError=function(){var e=a.state.handleErrorClose;a.setState({isErrorDialogVisible:!1,errorMessage:""}),e&&e()},a.hideConfirm=function(){return a.setState({isConfirmDialogVisible:!1,confirmObject:{}})},a.handleInvalidLogin=function(e){return a.state.showError(e.message)},a.state={user:JSON.parse(sessionStorage.getItem("userdata")),logout:function(){sessionStorage.clear(),a.setState({user:null}),a.props.history.push("/")},history:a.props.history,showError:function(e,t){a.setState({errorMessage:e,isErrorDialogVisible:!0,handleErrorClose:t})},showConfirm:function(e){return a.setState({confirmObject:e,isConfirmDialogVisible:!0})},handleErrorClose:null,confirmObject:{},errorMessage:"",get:{},add:{},edit:{},remove:{},myCart:me(),getOpenCart:function(){var e=a.state,t=e.user,n=e.updateAll;if(!t)return null;if("customer"!==t.userType)return null;var r=t.customer.id;return H.orders.getMyOpenCart(r).then(function(e){var t=Object(p.a)(e,1)[0];return t.id?(sessionStorage.setItem("myCart",JSON.stringify(t)),a.setState({myCart:t})):a.state.createCart().then(n)})},updateAll:function(){var e=["artists","paintings","employees","customers","orders","orderItems"],t={};return Promise.all(e.map(function(e){return H[e].getAll()})).then(function(a){a.forEach(function(a,n){t[e[n]]=a})}).then(function(){return a.setState(t)})},createCart:function(){var e=Object(E.a)(d.a.mark(function e(){var t,n,r,l,i,c;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state,n=t.user,r=t.showError,l=t.getOpenCart,i=t.updateAll,n){e.next=4;break}return r("Only customers can make purchases!"),e.abrupt("return",null);case 4:if("customer"===n.userType){e.next=7;break}return r("Only customers can make purchases!"),e.abrupt("return",null);case 7:return c={customerId:n.customer.id,isCompleted:!1,createdTimestamp:new Date,isSubmitted:!1,isCancelled:!1},e.abrupt("return",H.orders.create(c).then(l).then(i));case 9:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),addToCart:function(){var e=Object(E.a)(d.a.mark(function e(t){var n,r,l,i,c,o;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.state,r=n.myCart,l=n.getOpenCart,i=n.user,c=n.showError,o=n.updateAll,i){e.next=3;break}return e.abrupt("return",null);case 3:if("customer"===i.userType){e.next=6;break}return c("Only customers can place orders!"),e.abrupt("return",null);case 6:return e.abrupt("return",H.orderItems.findExisting(r.id,t).then(function(e){return 0===e.length?H.orderItems.create({isCancelled:!1,orderId:r.id,paintingId:t}).then(l).then(o):(c("Already in your cart!"),null)}));case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),removeFromCart:function(e){var t=a.state,n=t.myCart,r=t.getOpenCart,l=t.updateAll,i=n.orderItems.find(function(t){return t.paintingId===e});return H.orderItems.edit(i.id,{paintingId:null,orderId:null}).then(function(){return H.orderItems.delete(i.id)}).then(r).then(l)},submitCart:function(e){return H.orders.edit(e,{isSubmitted:!0}).then(a.state.updateAll)},calculateOrderTotal:function(e){var t=a.state,n=t.orders,r=t.paintings;return n.find(function(t){return t.id===e}).orderItems.reduce(function(e,t){return t.isCancelled?e:e+r.find(function(e){return e.id===t.paintingId}).currentPrice},0)},completeOrder:function(){var e=Object(E.a)(d.a.mark(function e(t){var n,r,l,i,c,o,u,s;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=function(e){return Math.round(100*e)/100},n=a.state,r=n.paintings,l=n.calculateOrderTotal,i=n.updateAll,e.next=4,H.orders.getOne(t);case 4:return c=e.sent,o=l(t),u=0,e.next=9,H.customers.edit(c.customerId,{accountBalance:c.customer.accountBalance-o});case 9:return e.next=11,H.orders.edit(t,{isCompleted:!0,orderTotal:o,approvedTime:new Date});case 11:return e.next=13,c.orderItems.map(function(e){var t=r.find(function(t){return t.id===e.paintingId}),a=s(t.currentPrice*t.artist.profitRatio),n=s(t.currentPrice-a);return u+=n,Promise.all([H.artists.edit(t.artistId,{accountBalance:t.artist.accountBalance+a}),H.paintings.edit(t.id,{isSold:!0,isLive:!1,isPendingSale:!1,artistShare:a,storeShare:n})])});case 13:return e.abrupt("return",H.stores.get().then(function(e){return H.stores.edit(1,{accountBalance:s(e.accountBalance+u)})}).then(i));case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),isErrorDialogVisible:!1,isConfirmDialogVisible:!1,showLogin:function(){return a.setState({isLoginModalVisible:!0})},isLoginModalVisible:!1};return["employees","artists","customers","paintings","orders","orderItems"].forEach(function(e){var t=e.substring(0,e.length-1);a.state[e]=[],a.state.get[e]=Object(E.a)(d.a.mark(function t(){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=a,t.t1=s.a,t.t2={},t.t3=e,t.next=6,H[e].getAll();case 6:return t.t4=t.sent,t.t5=(0,t.t1)(t.t2,t.t3,t.t4),t.abrupt("return",t.t0.setState.call(t.t0,t.t5));case 9:case"end":return t.stop()}},t)})),a.state.add[t]=function(){var t=Object(E.a)(d.a.mark(function t(n){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",H[e].create(n).then(a.state.get[e]));case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),a.state.edit[t]=function(t,n){return H[e].edit(n,t).then(a.state.get[e])},a.state.remove[t]=function(){var t=Object(E.a)(d.a.mark(function t(n){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",H[e].delete(n).then(a.state.get[e]));case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}),a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.state.updateAll()}},{key:"render",value:function(){var e=this.props.children,t=this.state,a=t.isErrorDialogVisible,n=t.errorMessage,l=t.confirmObject,i=t.isConfirmDialogVisible,c=t.isLoginModalVisible,o=t.showError,u=t.showConfirm;return r.a.createElement(ce.Provider,{value:this.state},e,r.a.createElement(V,{title:n,hide:this.hideError,isVisible:a}),r.a.createElement(Y,Object.assign({},l,{hide:this.hideConfirm,isVisible:i})),r.a.createElement(ie,{isOpen:c,handleClose:this.handleLoginClose,showConfirm:u,showError:o,login:this.doLogin,redirect:this.redirect}))}}]),t}(n.PureComponent),se=Object(y.f)(ue);function me(){var e=JSON.parse(sessionStorage.getItem("myCart"));return e||{orderItems:[]}}var de=a(461),pe=a(459),Ee=a(250);function he(e){var t=e.render,a=e.isAuthorized,n=Object(Ee.a)(e,["render","isAuthorized"]),l=t;return r.a.createElement(y.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(r.a.Fragment,null," ",l(e)," "):r.a.createElement(y.a,{to:"/gallery"})}}))}var fe=a(467),ge=a(266),be=a(468),ve=a(265);a(438);function ye(e){var t=e.artist,a=e.currentPrice,n=e.id,l=e.isLive,i=e.isPendingSale,o=e.isSold,u=e.name,s=e.thumbUrl;return r.a.createElement(be.a,null,r.a.createElement(ve.a,{className:"painting--card-image",src:s,alt:u}),r.a.createElement(be.a.Header,{className:"painting--card-header"},u),r.a.createElement(be.a.Meta,{className:"painting--card-meta"},"By: ","".concat(t.firstName," ").concat(t.lastName)),r.a.createElement(be.a.Description,{className:"painting--card-description"},function(e,t,a,n){return n?"Pending Sale":e||t?e&&!t?"Price: $".concat(a):"Sold!":"Coming soon!"}(l,o,a,i),r.a.createElement(c.b,{to:"/gallery/".concat(n)},r.a.createElement(G.a,{icon:!0,labelPosition:"right",className:"ui button"},"Details",r.a.createElement(q.a,{name:"search"})))))}function Ce(e){var t=e.setArtist,a=e.showOnlyActive,l=e.inline,i=e.selection,c=e.clearable,o=e.placeholder,u=Object(n.useContext)(ce).artists;return r.a.createElement(X.a,{placeholder:o,inline:l,selection:i,clearable:c,onChange:function(e,a){var n=a.value;t(n)},options:a?we(u):Oe(u)})}function Oe(e){return e.map(function(e){return{value:e.id,text:"".concat(e.firstName," ").concat(e.lastName),iamge:{avatar:!0,src:e.artistImageUrl}}})}function we(e){return e.filter(function(e){return e.paintings.length>0}).map(function(e){return{value:e.id,text:"".concat(e.firstName," ").concat(e.lastName),iamge:{avatar:!0,src:e.artistImageUrl}}})}function Se(){var e=Object(n.useState)(null),t=Object(p.a)(e,2),a=t[0],l=t[1],i=Object(n.useState)(!1),c=Object(p.a)(i,2),o=c[0],u=c[1],s=Object(n.useContext)(ce).paintings;return r.a.createElement(r.a.Fragment,null,r.a.createElement(fe.a,{basic:!0},r.a.createElement(fe.a.Header,null,r.a.createElement(fe.a.Row,null,r.a.createElement(fe.a.HeaderCell,{textAlign:"center",verticalAlign:"middle"},r.a.createElement(q.a,{name:"paint brush"}),"Filter by Artist: ",r.a.createElement(Ce,{setArtist:l,showOnlyActive:!0})),r.a.createElement(fe.a.HeaderCell,{textAlign:"center",verticalAlign:"middle"},r.a.createElement(Q.a,{slider:!0,label:"Show sold paintings",onChange:function(e,t){u(t.checked)}}))))),r.a.createElement(ge.a,{container:!0},s.filter(function(e){return o?e.isSold||e.isPendingSale:e.isLive&&!e.isSold}).filter(function(e){return!a||e.artistId===a}).map(function(e){return r.a.createElement(ge.a.Column,{mobile:16,tablet:8,computer:5,key:e.id},r.a.createElement(ye,e))})))}Ce.defaultProps={inline:!1,selection:!1,clearable:!0,placeholder:"All artists"};var je=a(474),xe=a(464),Ie=a(95);function ke(e){var t=e.id,a=e.history;return r.a.createElement(xe.a,{content:"Go to order detail",trigger:r.a.createElement(G.a,{icon:!0,color:"blue"},r.a.createElement(q.a,{name:"box",onClick:function(){return a.push("/orders/".concat(t))}}))})}function Te(e){var t,a=e.order,l=Object(n.useContext)(ce),i=l.history,c=l.calculateOrderTotal,o=a.orderItems.reduce(function(e,t){return t.isCancelled?e:e+1},0);return r.a.createElement(fe.a.Row,null,r.a.createElement(fe.a.Cell,null,r.a.createElement(W.a,{as:"h4",image:!0,style:{minHeight:"58px",paddingLeft:".5rem",display:"flex",flexDirection:"row",alignItems:"center"}},r.a.createElement(W.a.Content,null,"".concat(a.customer.firstName," ").concat(a.customer.lastName),r.a.createElement(W.a.Subheader,null,"Submitted: ",(t=a.submittedTime,new Date(t).toLocaleString("en-US",{hour12:!0,weekday:"short",day:"numeric",month:"short",hour:"numeric",minute:"2-digit"})))))),r.a.createElement(fe.a.Cell,null,a.isCancelled||a.isCompleted?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(xe.a,{content:"This order contains ".concat(o," painting").concat(1===o?"":"s"),trigger:r.a.createElement(Ie.a,{color:"blue"},r.a.createElement(q.a,{name:"images"}),o)}),r.a.createElement(xe.a,{content:"The total of the order",trigger:r.a.createElement(Ie.a,{color:"green"},r.a.createElement(q.a,{name:"dollar sign"}),c(a.id))})),a.isCancelled?r.a.createElement(W.a,{as:"h4",color:"red",content:"Cancelled"}):null,a.isCompleted?r.a.createElement(W.a,{as:"h4",color:"blue",content:"Completed"}):null),r.a.createElement(fe.a.Cell,null,r.a.createElement(ke,{id:a.id,history:i})))}function Pe(e){var t=e.ordersList;return r.a.createElement(fe.a,null,r.a.createElement(fe.a.Header,null,r.a.createElement(fe.a.Row,null,r.a.createElement(fe.a.HeaderCell,null,"Order"),r.a.createElement(fe.a.HeaderCell,null,"Status"),r.a.createElement(fe.a.HeaderCell,null,"Actions"))),r.a.createElement(fe.a.Body,null,t.map(function(e){return r.a.createElement(Te,{order:e,key:e.id})})))}function Ae(){var e=Object(n.useState)(0),t=Object(p.a)(e,2),a=t[0],l=t[1],i=Object(n.useState)(null),c=Object(p.a)(i,2),o=c[0],u=c[1],s=Object(n.useContext)(ce).orders,m=function(){return H.stores.get().then(u)};Object(n.useEffect)(function(){m()},[]);var d=[{menuItem:"Submitted",render:function(){return r.a.createElement(je.a.Pane,null,r.a.createElement(Pe,{ordersList:s.filter(function(e){return e.isSubmitted&&!e.isCompleted&&!e.isCancelled})}))}},{menuItem:"Completed",render:function(){return r.a.createElement(je.a.Pane,null,r.a.createElement(Pe,{ordersList:s.filter(function(e){return e.isCompleted&&!e.isCancelled})}))}},{menuItem:"Cancelled",render:function(){return r.a.createElement(je.a.Pane,null,r.a.createElement(Pe,{ordersList:s.filter(function(e){return e.isCancelled})}))}}];return r.a.createElement(r.a.Fragment,null,o?r.a.createElement(fe.a,{celled:!0,unstackable:!0},r.a.createElement(fe.a.Body,null,r.a.createElement(fe.a.Row,null,r.a.createElement(fe.a.Cell,null,r.a.createElement(W.a,{as:"h4",content:"Store account balance: "})),r.a.createElement(fe.a.Cell,null,r.a.createElement(W.a,{as:"h4",content:"$".concat(o.accountBalance)}))))):null,r.a.createElement(je.a,{activeIndex:a,onTabChange:function(e,t){var a=t.activeIndex;l(a),m()},panes:d}))}function Ne(e){var t=e.id,a=e.isLink,l=Object(n.useContext)(ce).artists.find(function(e){return e.id===t});return l?a?r.a.createElement(c.b,{to:"/artists/".concat(t)},r.a.createElement(De,l)):r.a.createElement(De,l):null}function De(e){var t=e.avatarUrl,a=e.firstName,n=e.lastName,l=e.hometown;return r.a.createElement(W.a,{as:"h4",image:!0},t?r.a.createElement(ve.a,{circular:!0,src:t,alt:"".concat(a," ").concat(n)}):r.a.createElement(q.a,{name:"paint brush",circular:!0}),r.a.createElement(W.a.Content,null,"".concat(a," ").concat(n),r.a.createElement(W.a.Subheader,null,l)))}function Fe(e){var t=e.id,a=e.history;return r.a.createElement(xe.a,{content:"Edit this painting",trigger:r.a.createElement(G.a,{icon:!0},r.a.createElement(q.a,{name:"edit",onClick:function(){return a.push("/paintings/".concat(t,"/edit"))}}))})}function Le(e){var t=e.id,a=Object(n.useContext)(ce),l=a.edit,i=a.showConfirm;return r.a.createElement(G.a,{icon:!0,color:"green",onClick:function(){i({title:"Send Painting for Employee Review",text:"Please confirm; you cannot reverse this action.",confirmAction:function(){return l.painting({isSubmitted:!0},t)},confirmBtnColor:"green",icon:"arrow circle right",btnIcon:"send",btnText:"Send it!"})}},r.a.createElement(q.a,{name:"send"}))}function Ue(e){var t=e.id,a=Object(n.useContext)(ce),l=a.edit,i=a.showConfirm;return r.a.createElement(xe.a,{content:"Remove painting from live display",trigger:r.a.createElement(G.a,{icon:!0,color:"purple"},r.a.createElement(q.a,{name:"undo",onClick:function(){i({title:"Remove from live display?",text:"Customers will no longer be able to view this painting",confirmAction:function(){l.painting({isLive:!1},t)},confirmBtnColor:"blue",btnIcon:"undo",btnText:"Yes"})}}))})}function Me(e){var t=e.id,a=Object(n.useContext)(ce),l=a.edit,i=a.showConfirm;return r.a.createElement(xe.a,{content:"Return painting to artist for corrections",trigger:r.a.createElement(G.a,{icon:!0,color:"violet"},r.a.createElement(q.a,{name:"undo",onClick:function(){i({title:"Return this painting to artist to edit?",text:"You won't be able to see this painting again until they resubmit.",confirmAction:function(){l.painting({isSubmitted:!1},t)},confirmBtnColor:"blue",btnIcon:"undo",btnText:"Yes"})}}))})}function Re(e){var t=e.id,a=Object(n.useContext)(ce),l=a.edit,i=a.showConfirm;return r.a.createElement(xe.a,{content:"Show this painting on the customer facing site",trigger:r.a.createElement(G.a,{icon:!0,color:"green",onClick:function(){i({title:"Show this painting to customers!",text:"",confirmAction:function(){return l.painting({isLive:!0},t)},confirmBtnColor:"green",icon:"bullhorn",btnIcon:"fire",btnText:"Go Live!"})}},r.a.createElement(q.a,{name:"send"}))})}function Be(e){var t=e.id,a=e.type,l=e.showText,i=Object(n.useContext)(ce),c=i.showConfirm,o=i.remove;return r.a.createElement(xe.a,{content:"Delete this ".concat(a),trigger:r.a.createElement(G.a,{color:"red",width:"4",onClick:function(e){e.preventDefault(),c({title:"Are you sure you want to delete this ".concat(a,"?"),text:"This action cannot be reversed!",id:t,confirmAction:function(){var e=Object(E.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("painting"!==a){e.next=3;break}return e.next=3,H.paintings.edit(t,{artistId:null});case 3:return e.abrupt("return",o[a](t));case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),confirmBtnColor:"red",icon:"exclamation",btnIcon:"trash alternate",btnText:"Yes, delete"})},icon:!l},l?"Delete draft":r.a.createElement(q.a,{name:"trash alternate"}))})}Ne.defaultProps={isLink:!0},Be.defaultProps={showText:!0};var He={display:"flex",flexDirection:"row"};function ze(e){var t=e.id,a=Object(n.useContext)(ce),l=a.user,i=a.paintings,c=a.history,o=a.orders,u=a.orderItems,s=i.find(function(e){return e.id===t}),m=s.isSold,d=s.isLive,p=s.isSubmitted,E=s.isPendingSale;if(l){if("artist"===l.userType)return m||d||p||E?null:r.a.createElement("div",{className:"table-actionIconContainer"},r.a.createElement(Be,{id:t,type:"painting"}),r.a.createElement(Fe,{id:t,history:c}),r.a.createElement(Le,{id:t}));if("employee"===l.userType){if(m||E){var h=u.filter(function(e){return e.paintingId===t}).map(function(e){return o.find(function(t){return t.id===e.orderId})}).find(function(e){return e.isSubmitted&&!e.isCancelled}),f=h?h.id:NaN;return r.a.createElement("div",{style:He},r.a.createElement(ke,{id:f,history:c}))}if(d)return r.a.createElement("div",{style:He},r.a.createElement(Ue,{id:t}),r.a.createElement(Fe,{id:t,history:c}));if(p)return r.a.createElement("div",{style:He},r.a.createElement(Me,{id:t}),r.a.createElement(Be,{id:t,showText:!1,type:"painting"}),r.a.createElement(Fe,{id:t,history:c}),r.a.createElement(Re,{id:t}))}}return null}function We(e){var t=e.id,a=e.painting,l=Object(n.useContext)(ce),i=l.user,c=l.addToCart,o=l.history,u=l.myCart,s=l.showLogin,m=Object(n.useState)("Add to Cart"),d=Object(p.a)(m,2),E=d[0],h=d[1],f=Object(n.useState)(!1),g=Object(p.a)(f,2),b=g[0],v=g[1],y=Object(n.useState)(!1),C=Object(p.a)(y,2),O=C[0],w=C[1],S=u.orderItems.find(function(e){return e.paintingId===t});return Object(n.useEffect)(function(){a.isPendingSale&&(v(!0),h("Pending sale")),a.isSold&&(v(!0),h("Sold")),S&&(v(!0),h("Already in your cart"))},[a.isPendingSale,S,a.isSold]),r.a.createElement(G.a,{primary:!0,disabled:b,loading:O,onClick:function(){i?(w(!0),c(t),setTimeout(function(){return o.push("/cart")},800)):s()}},E)}function Ge(e){var t=e.id,a=Object(n.useContext)(ce),l=a.paintings,i=a.user,c=Object(n.useState)(!1),o=Object(p.a)(c,2),u=o[0],s=o[1],m=l.find(function(e){return e.id===t});return Object(n.useEffect)(function(){i?"customer"===i.userType&&s(!0):s(!0)},[i]),r.a.createElement(pe.a,null,r.a.createElement(ge.a,{stackable:!0},m?r.a.createElement(r.a.Fragment,null,r.a.createElement(ge.a.Column,{width:"6"},r.a.createElement(ve.a,{fluid:!0,src:m.imgUrl,alt:m.name})),r.a.createElement(ge.a.Column,{width:"10"},r.a.createElement("h3",null,m.name),r.a.createElement(Ne,{id:m.artistId}),r.a.createElement("p",{style:{marginTop:"1rem"}},"Size: ".concat(m.height,'" x ').concat(m.width,'"')),r.a.createElement("p",{style:{marginTop:"1rem"}},"Medium: ".concat(m.medium)),r.a.createElement("p",{style:{whiteSpace:"pre-wrap",marginTop:"1rem"}},m.liveDescription),r.a.createElement("p",null,"Price: $",m.currentPrice),u?r.a.createElement(We,{id:t,painting:m}):null,r.a.createElement(ze,{id:t}))):r.a.createElement(r.a.Fragment,null,"No painting found!")))}function qe(e){var t=e.painting,a=e.user.userType;return r.a.createElement(fe.a.Row,null,r.a.createElement(fe.a.Cell,{selectable:!0},r.a.createElement(c.b,{to:"/gallery/".concat(t.id)},r.a.createElement(W.a,{as:"h4",image:!0,style:{minHeight:"58px",paddingLeft:".5rem",display:"flex",flexDirection:"row",alignItems:"center"}},r.a.createElement(ve.a,{src:t.thumbUrl}),r.a.createElement(W.a.Content,null,r.a.createElement("strong",null,t.name),"artist"===a?null:r.a.createElement(W.a.Subheader,null,"".concat(t.artist.firstName," ").concat(t.artist.lastName)))))),r.a.createElement(fe.a.Cell,null,function(e,t){var a=t.isSubmitted,n=t.isLive,l=t.isSold,i=t.currentPrice,c=t.isReviewed,o=t.isPendingSale;if("artist"===e)return l?r.a.createElement(W.a,{as:"h4",color:"purple"},"Sold for $".concat(i)):o?r.a.createElement(W.a,{as:"h4",color:"green"},"Pending Sale"):n?r.a.createElement(W.a,{as:"h4",color:"blue"},"For Sale"):a?c?r.a.createElement(W.a,{as:"h4",color:"violet"},"Reviewed"):r.a.createElement(W.a,{as:"h4",color:"olive"},"Submitted"):r.a.createElement(W.a,{as:"h4",color:"orange"},"Draft");if("employee"===e){if(l)return r.a.createElement(W.a,{as:"h4",color:"green"},"Sold for $".concat(i));if(o)return r.a.createElement(W.a,{as:"h4",color:"purple"},"Pending Sale");if(n)return r.a.createElement(W.a,{as:"h4",color:"blue"},"For Sale");if(a)return c?r.a.createElement(W.a,{as:"h4",color:"violet"},"Reviewed"):r.a.createElement(W.a,{as:"h4",color:"orange"},"Needs Review")}return null}(a,t)),r.a.createElement(fe.a.Cell,null,r.a.createElement(ze,{id:t.id})))}function Ve(e){var t=e.paintingList,a=e.user,n=e.history;return r.a.createElement(fe.a,null,r.a.createElement(fe.a.Header,null,r.a.createElement(fe.a.Row,null,r.a.createElement(fe.a.HeaderCell,null,"Painting"),r.a.createElement(fe.a.HeaderCell,null,"Status"),r.a.createElement(fe.a.HeaderCell,null,"Actions"))),r.a.createElement(fe.a.Body,null,function(e,t,a){var n="artist"===t.userType?e.filter(function(e){return e.artistId===t.artist.id}):null;"employee"===t.userType&&(n=e.filter(function(e){return!!(e.isSubmitted||e.isLive||e.isSold)}));return n.map(function(e){return r.a.createElement(qe,{painting:e,history:a,user:t,key:e.id})})}(t,a,n)))}a(226);var Ye=a(254),$e={mainImg:{maxSizeMB:1,maxWidthOrHeight:1200,useWebWorker:!1},thumbImg:{maxSizeMB:.2,maxWidthOrHeight:400,useWebWorker:!1},avatarImg:{maxSizeMB:.03,maxWidthOrHeight:80,useWebWorker:!1}};function Je(e,t){return _e.apply(this,arguments)}function _e(){return(_e=Object(E.a)(d.a.mark(function e(t,a){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Ye.a)(t,$e[a]);case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}function Ke(e){var t=e.setActiveTab,a=Object(n.useContext)(ce),l=a.user,i=a.artists,c=a.add,o=Object(n.useState)("artist"===l.userType?l.artist.id:null),u=Object(p.a)(o,2),s=u[0],m=u[1],h=Object(n.useState)(""),f=Object(p.a)(h,2),g=f[0],b=f[1],v=Object(n.useState)(""),y=Object(p.a)(v,2),C=y[0],O=y[1],w=Object(n.useState)(null),S=Object(p.a)(w,2),j=S[0],x=S[1],I=Object(n.useState)(!1),k=Object(p.a)(I,2),T=k[0],P=k[1],A=Object(n.useState)(null),N=Object(p.a)(A,2),D=N[0],F=N[1],L=Object(n.useState)(""),U=Object(p.a)(L,2),M=U[0],R=U[1],B=Object(n.useState)(NaN),H=Object(p.a)(B,2),z=H[0],W=H[1],q=Object(n.useState)(NaN),V=Object(p.a)(q,2),Y=V[0],$=V[1];function J(){return(J=Object(E.a)(d.a.mark(function e(a){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),P(!0),e.next=4,Je(j,"mainImg");case 4:return e.sent,e.next=7,Je(j,"thumbImg");case 7:e.sent,c.painting({name:g,artistId:s,submittedDescription:C,liveDescription:C,medium:M,height:z,width:Y,forSaleDate:null,currentPrice:D,isSubmitted:!1,isReviewed:!1,isPendingSale:!1,isLive:!1,isSold:!1}).then(function(){return t(0)});case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}return r.a.createElement(_.a,{loading:T,onSubmit:function(e){return function(e){return J.apply(this,arguments)}(e)}},r.a.createElement(_.a.Field,{required:!0,value:g,onChange:function(e,t){var a=t.value;return b(a)},control:re.a,label:"Painting Name",placeholder:"Painting name",id:"name"}),r.a.createElement(_.a.Group,{widths:8},r.a.createElement(_.a.Select,{width:"6",label:"Artist Name",required:!0,disabled:"artist"===l.userType,options:i.map(function(e){return{key:e.id,text:"".concat(e.firstName," ").concat(e.lastName),value:e.id,image:{avatar:!0,src:e.artistImageUrl}}}),onChange:function(e,t){var a=t.value;return m(a)},value:s,id:"artistId"}),r.a.createElement(_.a.Field,{width:"6",required:!0,value:M,onChange:function(e,t){var a=t.value;return R(a)},control:re.a,label:"Medium",placeholder:"Oil on Canvas"}),r.a.createElement(_.a.Field,{required:!0,control:"input",type:"number",label:"Price",onChange:function(e){return F(parseInt(e.target.value,10))},placeholder:"Suggest a price for us",width:"6"})),r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Field,{control:"input",width:"4",required:!0,type:"number",label:"Height in inches",onChange:function(e){return W(parseInt(e.target.value,10))},placeholder:"24"}),r.a.createElement(_.a.Field,{width:"4",required:!0,control:"input",type:"number",label:"Width in inches",onChange:function(e){return $(parseInt(e.target.value,10))},placeholder:"36"}),r.a.createElement(_.a.Field,{width:"8",required:!0,control:"input",type:"file",label:"Photo",onChange:function(e){return x(e.target.files[0])},placeholder:"Upload an image"})),r.a.createElement(_.a.TextArea,{value:C,onChange:function(e,t){var a=t.value;return O(a)},required:!0,label:"Description",rows:7,placeholder:"Painting description"}),r.a.createElement(G.a,{type:"submit",content:"Save",color:"purple",width:"4"}))}function Qe(e){var t=e.history,a=Object(n.useState)(0),l=Object(p.a)(a,2),i=l[0],c=l[1],o=Object(n.useContext)(ce),u=o.paintings,s=o.user,m=[{menuItem:"Drafts",render:function(){return r.a.createElement(je.a.Pane,null,u?r.a.createElement(Ve,{user:s,tableType:"pending",history:t,paintingList:u.filter(function(e){var t=e.isLive,a=e.isPendingSale,n=e.isSold;return!t&&!a&&!n})}):null)}},{menuItem:"Active",render:function(){return r.a.createElement(je.a.Pane,null,r.a.createElement(Ve,{tableType:"active",user:s,history:t,paintingList:u.filter(function(e){var t=e.isLive,a=e.isSold,n=e.isPendingSale;return t&&!a&&!n})}))}},{menuItem:"Sold",render:function(){return r.a.createElement(je.a.Pane,null,r.a.createElement(Ve,{tableType:"sold",user:s,history:t,paintingList:u.filter(function(e){var t=e.isLive,a=e.isSold,n=e.isPendingSale;return!t&&(n||a)})}))}},{menuItem:"Add",render:function(){return r.a.createElement(je.a.Pane,null,r.a.createElement(Ke,{setActiveTab:c}))}}];return r.a.createElement(je.a,{activeIndex:i,onTabChange:function(e,t){var a=t.activeIndex;c(a)},panes:m})}function Xe(e){var t=e.id,a=e.firstName,n=e.lastName,l=e.imgUrl,i=e.hometown;return r.a.createElement(be.a,null,r.a.createElement(ve.a,{className:"painting--card-image",src:l,alt:"".concat(a," ").concat(n)}),r.a.createElement(be.a.Header,{className:"painting--card-header"},"".concat(a," ").concat(n)),r.a.createElement(be.a.Meta,{className:"painting--card-meta"},"Hometown: ".concat(i)),r.a.createElement(be.a.Description,{className:"painting--card-description"},r.a.createElement(c.b,{to:"/artists/".concat(t)},r.a.createElement(G.a,{icon:!0,labelPosition:"right",className:"ui button"},"Details",r.a.createElement(q.a,{name:"search"})))))}function Ze(){var e=Object(n.useContext)(ce).artists;return r.a.createElement(ge.a,{container:!0},e.map(function(e){return r.a.createElement(ge.a.Column,{mobile:16,tablet:8,computer:5,key:e.id},r.a.createElement(Xe,e))}))}function et(e,t){return!!e&&("employee"===e.userType&&e.employee[t])}Xe.defaultProps={hometown:"Not provided"};var tt=function(e){return!!e},at=function(e){return tt(e)&&"customer"!==e.userType};function nt(e){return!!e&&("customer"!==e.userType&&!("employee"===e.userType&&!e.employee.canEditCustomers))}var rt=a(167);function lt(e){var t,a=e.order,l=Object(n.useContext)(ce),i=l.history,c=l.calculateOrderTotal,o=a.orderItems.reduce(function(e,t){return t.isCancelled?e:e+1},0);return r.a.createElement(fe.a.Row,null,r.a.createElement(fe.a.Cell,{selectable:!0,onClick:function(){return i.push("/orders/".concat(a.id))},style:{cursor:"pointer"}},r.a.createElement(W.a,{as:"h4",image:!0,style:{minHeight:"58px",paddingLeft:".5rem",display:"flex",flexDirection:"row",alignItems:"center"}},r.a.createElement(W.a.Content,null,"Order Number: ".concat(a.id),r.a.createElement(W.a.Subheader,null,"Submitted: ",(t=a.submittedTime,new Date(t).toLocaleString("en-US",{hour12:!0,weekday:"short",day:"numeric",month:"short",hour:"numeric",minute:"2-digit"})))))),r.a.createElement(fe.a.Cell,null,a.isCancelled||a.isCompleted?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(xe.a,{content:"This order contains ".concat(o," painting").concat(1===o?"":"s"),trigger:r.a.createElement(Ie.a,{color:"blue"},r.a.createElement(q.a,{name:"images"}),o)}),r.a.createElement(xe.a,{content:"The total of the order",trigger:r.a.createElement(Ie.a,{color:"green"},r.a.createElement(q.a,{name:"dollar sign"}),c(a.id))})),a.isCancelled?r.a.createElement(W.a,{as:"h4",color:"red",content:"Cancelled"}):null,a.isCompleted?r.a.createElement(W.a,{as:"h4",color:"blue",content:"Completed"}):null),r.a.createElement(fe.a.Cell,null,r.a.createElement(ke,{id:a.id,history:i})))}function it(){var e=Object(n.useContext)(ce),t=e.orders,a=e.user,l={};return a&&("artist"===a.userType&&(l=a.artist),"customer"===a.userType&&(l=a.customer)),a?r.a.createElement(rt.a.Group,null,r.a.createElement(rt.a,null,r.a.createElement(W.a,{content:"Account Details"})),r.a.createElement(rt.a,null,r.a.createElement(fe.a,{columns:2,style:{width:"50%"}},r.a.createElement(fe.a.Body,null,r.a.createElement(ct,{header:"Username:",content:a.username}),r.a.createElement(ct,{header:"Email:",content:a.email}),r.a.createElement(ct,{header:"Address:",content:r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,l.address),r.a.createElement("p",null,"".concat(l.city,", ").concat(l.state," ").concat(l.zipcode)))}),r.a.createElement(ct,{header:"Account Balance: ",content:"$".concat(l.accountBalance)})))),"customer"===a.userType?r.a.createElement(r.a.Fragment,null,r.a.createElement(rt.a,null,r.a.createElement(W.a,{content:"My Orders"})),r.a.createElement(rt.a,null,r.a.createElement(fe.a,null,r.a.createElement(fe.a.Body,null,t?t.filter(function(e){var t=e.customerId,a=e.isSubmitted;return t===l.id&&a}).map(function(e){return r.a.createElement(lt,{order:e,key:e.id})}):r.a.createElement(r.a.Fragment,null," "))))):null):r.a.createElement(rt.a.Group,null,r.a.createElement(rt.a,null,r.a.createElement(W.a,{content:"No User found"})))}function ct(e){var t=e.header,a=e.content;return r.a.createElement(fe.a.Row,null,r.a.createElement(fe.a.Cell,{width:4},t),r.a.createElement(fe.a.Cell,{width:6},a))}function ot(e){var t=e.id,a=e.push,n=e.text;return r.a.createElement(G.a,{style:{marginBottom:"1rem"},onClick:function(){return a("/artists/".concat(t,"/edit"))}},n)}function ut(e){var t=e.id,a=Object(n.useContext)(ce),l=a.artists,i=a.user,c=a.history,o=l.find(function(e){return e.id===t}),u=null;return i&&("artist"===i.userType?i.artist.id===t&&(u=r.a.createElement(ot,{id:t,push:c.push,text:"Edit my Profile"})):"employee"===i.userType&&i.employee.canEditCustomers&&(u=r.a.createElement(ot,{id:t,push:c.push,text:"Edit Artist's Profile"}))),o?r.a.createElement(r.a.Fragment,null,r.a.createElement(ge.a,{stackable:!0,style:{marginBottom:"4rem"}},r.a.createElement(ge.a.Column,{width:"6"},r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},u,o.imgUrl?r.a.createElement(ve.a,{fluid:!0,src:o.imgUrl,alt:"".concat(o.firstName," ").concat(o.lastName)}):r.a.createElement(q.a,{name:"user circle"}))),r.a.createElement(ge.a.Column,{width:"10"},r.a.createElement(W.a,{as:"h1"},r.a.createElement(W.a.Content,null,"".concat(o.firstName," ").concat(o.lastName)),r.a.createElement(W.a.Subheader,null,"Hometown: ",o.hometown?o.hometown:"Not Provided")),r.a.createElement("section",{style:{whiteSpace:"pre-wrap"}},o.artistDescription))),r.a.createElement(W.a,{as:"h4"},r.a.createElement(W.a.Content,null,"Featured Paintings")),r.a.createElement(ge.a,{container:!0},o.paintings.filter(function(e){var t=e.isLive,a=e.isSold,n=e.isPendingSale;return t||a||n}).map(function(e){return r.a.createElement(ge.a.Column,{mobile:16,tablet:8,computer:5,key:e.id},r.a.createElement(ye,Object.assign({},e,{artist:o})))}))):r.a.createElement(W.a,null,"Artist not found!")}function st(e){var t=e.user,a=e.id,l=e.artists,i=e.edit,c=e.history,o=e.painting,u=Object(n.useState)(o.artistId),s=Object(p.a)(u,2),m=s[0],h=s[1],f=Object(n.useState)(o.name),g=Object(p.a)(f,2),b=g[0],v=g[1],y=Object(n.useState)(o.submittedDescription),C=Object(p.a)(y,2),O=C[0],w=C[1],S=Object(n.useState)(null),j=Object(p.a)(S,2),x=j[0],I=j[1],k=Object(n.useState)(!1),T=Object(p.a)(k,2),P=T[0],A=T[1],N=Object(n.useState)(o.currentPrice),D=Object(p.a)(N,2),F=D[0],L=D[1],U=Object(n.useState)(o.medium),M=Object(p.a)(U,2),R=M[0],B=M[1],H=Object(n.useState)(o.height),z=Object(p.a)(H,2),W=z[0],G=z[1],q=Object(n.useState)(o.width),V=Object(p.a)(q,2),Y=V[0],$=V[1];function J(){return(J=Object(E.a)(d.a.mark(function e(n){var r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),A(!0),r={name:b,artistId:m,submittedDescription:O,liveDescription:O,medium:R,height:W,width:Y,currentPrice:F},"employee"===t.userType&&(r.isReviewed=!0),!x){e.next=11;break}return e.next=7,Je(x,"mainImg");case 7:return e.sent,e.next=10,Je(x,"thumbImg");case 10:e.sent;case 11:i.painting(r,a),c.goBack();case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}return r.a.createElement(ge.a,{stackable:!0},r.a.createElement(ge.a.Column,{tablet:"6"},r.a.createElement(ve.a,{src:o.imgUrl})),r.a.createElement(ge.a.Column,{tablet:"10"},r.a.createElement(_.a,{loading:P,onSubmit:function(e){return function(e){return J.apply(this,arguments)}(e)}},r.a.createElement(_.a.Field,{required:!0,value:b,onChange:function(e,t){var a=t.value;return v(a)},control:re.a,label:"Painting Name",placeholder:"Painting name",id:"name"}),r.a.createElement(_.a.Group,{widths:8},r.a.createElement(_.a.Select,{width:"6",label:"Artist Name",required:!0,disabled:"artist"===t.userType,options:l.map(function(e){return{key:e.id,text:"".concat(e.firstName," ").concat(e.lastName),value:e.id,image:{avatar:!0,src:e.artistImageUrl}}}),onChange:function(e,t){var a=t.value;return h(a)},value:m,id:"artistId"}),r.a.createElement(_.a.Field,{width:"6",required:!0,value:R,onChange:function(e,t){var a=t.value;return B(a)},control:re.a,label:"Medium",placeholder:"Oil on Canvas"}),r.a.createElement(_.a.Field,{required:!0,control:"input",type:"number",label:"Price",value:F,onChange:function(e){return L(parseInt(e.target.value,10))},placeholder:"Suggest a price for us",width:"6"})),r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Field,{control:"input",width:"4",required:!0,value:W,type:"number",label:"Height in inches",onChange:function(e){return G(parseInt(e.target.value,10))},placeholder:"24"}),r.a.createElement(_.a.Field,{width:"4",required:!0,value:Y,control:"input",type:"number",label:"Width in inches",onChange:function(e){return $(parseInt(e.target.value,10))},placeholder:"36"}),r.a.createElement(_.a.Field,{width:"8",control:"input",type:"file",label:"Replace Existing Photo?",onChange:function(e){return I(e.target.files[0])},placeholder:"Upload an image"})),r.a.createElement(_.a.Field,{value:O,control:"textarea",onChange:function(e){return w(e.target.value)},required:!0,label:"Painting Description",rows:7,placeholder:"Painting description"}),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",float:"right"}},r.a.createElement(mt,{user:t,painting:o})))))}function mt(e){var t=e.user,a=e.painting;return"artist"===t.userType?a.isSubmitted?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(Be,{id:a.id,type:"painting"}),r.a.createElement(G.a,{type:"submit",content:"Save",color:"purple",width:"4"})):"employee"===t.userType?a.isSold||a.isPendingSale?null:a.isLive?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ue,{id:a.id}),r.a.createElement(G.a,{type:"submit",content:"Save",color:"purple",width:"4"})):r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{type:"submit",content:"Save",color:"purple",width:"4"}),r.a.createElement(Re,{id:a.id})):null}function dt(e){var t=e.id,a=e.artist,l=e.edit,i=e.history,c=Object(n.useState)(a.firstName),o=Object(p.a)(c,2),u=o[0],s=o[1],m=Object(n.useState)(a.lastName),h=Object(p.a)(m,2),f=h[0],g=h[1],b=Object(n.useState)(a.artistDescription),v=Object(p.a)(b,2),y=v[0],C=v[1],O=Object(n.useState)(a.hometown),w=Object(p.a)(O,2),S=w[0],j=w[1],x=Object(n.useState)(null),I=Object(p.a)(x,2),k=I[0],T=I[1],P=Object(n.useState)(!1),A=Object(p.a)(P,2),N=A[0],D=A[1],F=Object(n.useState)(a.phoneNumber),L=Object(p.a)(F,2),U=L[0],M=L[1];if(!a)return r.a.createElement(W.a,{as:"h4"},"Artist not found!");function R(){return(R=Object(E.a)(d.a.mark(function e(a){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),D(!0),n={firstName:u,lastName:f,artistDescription:y,hometown:S,phoneNumber:U},!k){e.next=10;break}return e.next=6,Je(k,"mainImg");case 6:return e.sent,e.next=9,Je(k,"thumbImg");case 9:e.sent;case 10:l.artist(n,t).then(function(){return i.goBack()});case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(ge.a,{stackable:!0},r.a.createElement(ge.a.Column,{tablet:"6"},r.a.createElement(W.a,null,"Existing Image"),r.a.createElement(ve.a,{fluid:!0,src:a.imgUrl})),r.a.createElement(ge.a.Column,{tablet:"10"},r.a.createElement(_.a,{loading:N,onSubmit:function(e){return function(e){return R.apply(this,arguments)}(e)}},r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Field,{required:!0,value:u,onChange:function(e,t){var a=t.value;return s(a)},control:re.a,label:"First Name",placeholder:"John",id:"firstName"}),r.a.createElement(_.a.Field,{required:!0,value:f,onChange:function(e,t){var a=t.value;return g(a)},control:re.a,label:"Last Name",placeholder:"Doe",id:"lastName"})),r.a.createElement(_.a.Group,{widths:8},r.a.createElement(_.a.Field,{width:"6",required:!0,value:U,onChange:function(e,t){var a=t.value;return M(a)},control:re.a,label:"Phone Number (Only visible to employees)",placeholder:"123-456-7890"}),r.a.createElement(_.a.Field,{required:!0,control:re.a,type:"text",label:"Hometown",value:S,onChange:function(e,t){var a=t.value;return j(a)},placeholder:"Clarksville, TN",width:"6"})),r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Field,{width:"8",control:"input",type:"file",label:"Replace Existing Photo?",onChange:function(e){return T(e.target.files[0])},placeholder:"Upload an image"})),r.a.createElement(_.a.Field,{value:y,control:"textarea",onChange:function(e){return C(e.target.value)},required:!0,label:"Painting Description",rows:7,placeholder:"Painting description"}),r.a.createElement(_.a.Group,null,r.a.createElement(G.a,{type:"submit",content:"Save",color:"purple",width:"4"}))))))}var pt=a(471),Et=a(460),ht=a(475),ft=a(476);function gt(e){var t=e.painting,a=e.user.userType,n=e.removeFromCart;return r.a.createElement(fe.a.Row,null,r.a.createElement(fe.a.Cell,{selectable:!0},r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},r.a.createElement(c.b,{to:"/gallery/".concat(t.id)},r.a.createElement(W.a,{as:"h4",image:!0,style:{minHeight:"58px",paddingLeft:".5rem",display:"flex",flexDirection:"row",alignItems:"center"}},r.a.createElement(ve.a,{src:t.thumbUrl}),r.a.createElement(W.a.Content,null,r.a.createElement("strong",null,t.name),"artist"===a?null:r.a.createElement(W.a.Subheader,null)))),r.a.createElement(G.a,{icon:!0,basic:!0,onClick:function(){return n(t.id)}},r.a.createElement(q.a,{name:"times circle",color:"red"})))),r.a.createElement(fe.a.Cell,null,r.a.createElement(Ne,{id:t.artist.id,isLink:!1})),r.a.createElement(fe.a.Cell,null,"$".concat(t.currentPrice)))}function bt(e){var t=e.myCart,a=e.history,l=e.user,i=e.paintings,c=e.removeFromCart,o=e.edit,u=e.createCart,s=Object(n.useState)(!1),m=Object(p.a)(s,2),d=m[0],E=m[1],h=Object(n.useState)(!1),f=Object(p.a)(h,2),g=f[0],b=f[1],v=t.orderItems.map(function(e){return i.find(function(t){return t.id===e.paintingId})}),y=!!v[0];return r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{as:"h1",style:{marginBottom:"2rem"}},"My Cart"),v.length>0?r.a.createElement(rt.a,null,r.a.createElement(pt.a,{active:d},r.a.createElement(Et.a,null,"Submitting...")),r.a.createElement(pt.a,{active:g},r.a.createElement(be.a,null,r.a.createElement(be.a.Content,null,r.a.createElement(be.a.Header,null,"Your order has been received!"),r.a.createElement(be.a.Description,null,"We will be in touch soon.")))),r.a.createElement(fe.a,{celled:!0},r.a.createElement(fe.a.Header,null,r.a.createElement(fe.a.Row,null,r.a.createElement(fe.a.HeaderCell,null,r.a.createElement(ht.a,{minWidth:767},"Painting Name"),r.a.createElement(ht.a,{maxWidth:766},"Items:")),r.a.createElement(fe.a.HeaderCell,null,r.a.createElement(ht.a,{minWidth:767},"Artist")),r.a.createElement(fe.a.HeaderCell,null,r.a.createElement(ht.a,{minWidth:767},"Price")))),r.a.createElement(fe.a.Body,null,r.a.createElement(ft.a.Group,{animation:"slide down",duration:300},y?v.map(function(e){return r.a.createElement(gt,{painting:e,history:a,removeFromCart:c,user:l,key:e.id})}):null),r.a.createElement(fe.a.Row,null,r.a.createElement(fe.a.Cell,null,r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},"Order Total:",r.a.createElement(ht.a,{maxWidth:766},y?"$".concat(v.reduce(function(e,t){return e+t.currentPrice},0)):null))),r.a.createElement(fe.a.Cell,null,r.a.createElement(G.a,{icon:!0,primary:!0,fluid:!0,onClick:function(){E(!0),o.order({isSubmitted:!0,submittedTime:new Date},t.id).then(function(){v.forEach(function(e){o.painting({isPendingSale:!0,isLive:!1},e.id)})}),setTimeout(function(){b(!0),E(!1),setTimeout(function(){u(),a.push("/gallery")},2e3)},1e3)}},r.a.createElement(q.a,{name:"dollar sign"}),"Buy Now")),r.a.createElement(fe.a.Cell,null,r.a.createElement(ht.a,{minWidth:767},y?"$".concat(v.reduce(function(e,t){return e+t.currentPrice},0)):null)))))):r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(be.a,null,r.a.createElement(be.a.Content,null,r.a.createElement(be.a.Header,null,r.a.createElement(q.a,{name:"frown outline",color:"orange",size:"big"}),"Your cart is empty...")))))}var vt=a(465);function yt(e){var t=e.isModalVisible,a=e.handleClose,l=e.edit,i=e.updateAll,c=e.orderItemId,o=Object(n.useState)(""),u=Object(p.a)(o,2),s=u[0],m=u[1],d=Object(n.useState)(!1),E=Object(p.a)(d,2),h=E[0],f=E[1],g=Object(n.useState)(!0),b=Object(p.a)(g,2),v=b[0],y=b[1];return r.a.createElement(z.a,{open:t,onClose:a},r.a.createElement(rt.a,null,r.a.createElement(W.a,null,r.a.createElement(W.a.Content,null,"Do you want to reject this order item?",r.a.createElement(W.a.Subheader,null))),r.a.createElement(_.a,null,r.a.createElement(_.a.Field,{disabled:h,control:"textarea",label:"Please explain to the customer why this order item was cancelled:",value:s,onChange:function(e){m(e.target.value)}}),r.a.createElement(K.a,{success:!0,header:"Order item cancelled!",hidden:v}),r.a.createElement(_.a.Group,{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},r.a.createElement(G.a,{icon:!0,onClick:a},r.a.createElement(q.a,{name:"undo"})," Go back"),r.a.createElement(G.a,{type:"submit",icon:!0,onClick:function(e){e.preventDefault(),f(!0),l.orderItem({isCancelled:!0,cancelMessage:s},c).then(i).then(function(){setTimeout(function(){y(!1)},300),setTimeout(a,800)})},color:"orange",loading:h},r.a.createElement(q.a,{name:"trash"})," Yes, cancel this item")))))}function Ct(e){var t=e.painting,a=e.user.userType,l=e.edit,i=e.updateAll,o=e.showControls,u=e.isCompleted,s=Object(n.useState)(!1),m=Object(p.a)(s,2),d=m[0],E=m[1],h=t.orderItem,f=h.isCancelled,g=h.cancelMessage;return r.a.createElement(fe.a.Row,null,r.a.createElement(yt,{isModalVisible:d,handleClose:function(){return E(!1)},edit:l,updateAll:i,orderItemId:t.orderItem.id}),r.a.createElement(fe.a.Cell,{selectable:!f},r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},f?r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{as:"h4",image:!0,style:{minHeight:"58px",paddingLeft:".5rem",display:"flex",flexDirection:"row",alignItems:"center"}},r.a.createElement(ve.a,{src:t.thumbUrl}),r.a.createElement(W.a.Content,null,r.a.createElement("strong",{style:{textDecoration:"line-through"}},t.name),r.a.createElement(W.a.Subheader,null,g)))):r.a.createElement(r.a.Fragment,null,r.a.createElement(c.b,{to:"/gallery/".concat(t.id)},r.a.createElement(W.a,{as:"h4",image:!0,style:{minHeight:"58px",paddingLeft:".5rem",display:"flex",flexDirection:"row",alignItems:"center"}},r.a.createElement(ve.a,{src:t.thumbUrl}),r.a.createElement(W.a.Content,{style:{textDecoration:f?"line-through":"none"}},r.a.createElement("strong",null,t.name),"artist"===a?null:r.a.createElement(W.a.Subheader,null)))),o?r.a.createElement(G.a,{icon:!0,basic:!0,onClick:function(){return E(!0)}},r.a.createElement(q.a,{name:"times circle",color:"red"})):null))),r.a.createElement(fe.a.Cell,null,r.a.createElement(Ne,{id:t.artist.id,isLink:!1})),r.a.createElement(fe.a.Cell,null,f?"Cancelled":r.a.createElement(r.a.Fragment,null,u&&"employee"===a?r.a.createElement(fe.a,null,r.a.createElement(fe.a.Body,null,r.a.createElement(fe.a.Row,null,r.a.createElement(fe.a.Cell,null,"Item Total"),r.a.createElement(fe.a.Cell,null,"$".concat(t.currentPrice))),r.a.createElement(fe.a.Row,null,r.a.createElement(fe.a.Cell,null,"Artist Share"),r.a.createElement(fe.a.Cell,null,"$".concat(t.artistShare))),r.a.createElement(fe.a.Row,null,r.a.createElement(fe.a.Cell,null,"Store Share"),r.a.createElement(fe.a.Cell,null,"$".concat(t.storeShare))))):r.a.createElement("p",null,"$".concat(t.currentPrice)))))}function Ot(e){var t=e.isModalVisible,a=e.handleClose,l=e.edit,i=e.updateAll,c=e.order,o=e.orderedPaintings,u=Object(n.useState)(""),s=Object(p.a)(u,2),m=s[0],d=s[1],E=Object(n.useState)(!1),h=Object(p.a)(E,2),f=h[0],g=h[1],b=Object(n.useState)(!0),v=Object(p.a)(b,2),y=v[0],C=v[1];return r.a.createElement(z.a,{open:t,onClose:a},r.a.createElement(rt.a,null,r.a.createElement(W.a,{content:"Do you want to cancel this customer order?",subheader:"Note that paintings will be automatically made available for sale again."}),r.a.createElement(_.a,null,r.a.createElement(_.a.Field,{disabled:f,control:"textarea",label:"Please explain to the customer why this order was cancelled:",value:m,onChange:function(e){d(e.target.value)}}),r.a.createElement(K.a,{success:!0,header:"Order item cancelled!",hidden:y}),r.a.createElement(_.a.Group,{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},r.a.createElement(G.a,{icon:!0,onClick:a},r.a.createElement(q.a,{name:"undo"})," Go back"),r.a.createElement(G.a,{type:"submit",icon:!0,onClick:function(e){e.preventDefault(),g(!0),l.order({isCancelled:!0,cancelMessage:m,cancelledTime:new Date},c.id).then(function(){return o.forEach(function(e){l.painting({isPendingSale:!1,isLive:!0},e.id)})}).then(i).then(function(){setTimeout(function(){C(!1)},300),setTimeout(a,800)})},color:"orange",loading:f},r.a.createElement(q.a,{name:"trash"})," Yes, cancel this Order")))))}function wt(e){var t=e.order,a=e.showControls,n=e.handleApprove,l=e.showCancelOrderModal;return a?r.a.createElement("div",null,r.a.createElement(G.a,{negative:!0,style:{marginRight:"1rem"},onClick:l,content:"Cancel Order"}),r.a.createElement(G.a,{content:"Approve Order",primary:!0,onClick:n})):r.a.createElement("div",null,t.isCancelled?r.a.createElement(W.a,{as:"h3",color:"red",content:"Order Cancelled"}):null,t.isCompleted?r.a.createElement(W.a,{as:"h3",color:"blue",content:"Order Completed"}):null)}function St(e){var t=e.label,a=e.time,n=e.color;return r.a.createElement(Ie.a,{color:n},t,r.a.createElement(Ie.a.Detail,null,new Date(a).toLocaleString("en-US",{hour12:!0,weekday:"short",day:"numeric",month:"short",hour:"numeric",minute:"2-digit"})))}function jt(e){var t=e.id,a=Object(n.useState)(!1),l=Object(p.a)(a,2),i=l[0],c=l[1],o=Object(n.useState)(!1),u=Object(p.a)(o,2),s=u[0],m=u[1],d=Object(n.useState)(!1),E=Object(p.a)(d,2),h=E[0],f=E[1],g=Object(n.useContext)(ce),b=g.orders,v=g.paintings,y=g.history,C=g.user,O=g.edit,w=g.updateAll,S=g.calculateOrderTotal,j=g.completeOrder,x=b.find(function(e){return e.id===t}),I=C?C.userType:null,k=x?x.customer:{id:null},T=!1,P=!!x&&(!x.isCancelled&&!x.isCompleted);var A=x?x.orderItems.map(function(e){var t=v.find(function(t){return t.id===e.paintingId});return t.orderItem=e,t}):null,N=!!x&&!!A[0],D=!!x&&x.isCancelled;return"customer"===I&&(P=!1,k.id===C.customer.id&&(T=!0)),"employee"===I&&C.employee.canProcessOrders&&(T=!0),N&&T?r.a.createElement(rt.a.Group,null,r.a.createElement(Ot,{isModalVisible:h,handleClose:function(){f(!1)},edit:O,updateAll:w,orderedPaintings:A,order:x}),r.a.createElement(pt.a,{active:i},r.a.createElement(Et.a,{content:"Submitting..."})),r.a.createElement(pt.a,{active:s},r.a.createElement(be.a,{content:r.a.createElement(W.a,{content:"This order has been processed!"})})),r.a.createElement(rt.a,{disabled:i},r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},r.a.createElement("div",null,r.a.createElement(W.a,{as:"h1",style:{marginBottom:"2rem"},content:"Order number: ".concat(t)}),x.isSubmitted?r.a.createElement(St,{label:"Submitted",time:x.submittedTime,color:"blue"}):null,x.isCompleted?r.a.createElement(St,{label:"Approved",time:x.approvedTime,color:"green"}):null,x.isCancelled?r.a.createElement(St,{label:"Cancelled",time:x.cancelledTime,color:"red"}):null),r.a.createElement(wt,{order:x,showControls:P,handleApprove:function(){c(!0),w().then(function(){return j(t)}),setTimeout(function(){m(!0),c(!1),setTimeout(function(){return y.push("/orders")},2e3)})},showOrderCancelModal:function(){f(!0)}}))),D?r.a.createElement(rt.a,null,r.a.createElement(ge.a,{stackable:!0,columns:2},r.a.createElement(ge.a.Row,null,r.a.createElement(ge.a.Column,null,r.a.createElement(W.a,{content:"Reason for cancellation:"})),r.a.createElement(ge.a.Column,null,x.cancelMessage)))):null,r.a.createElement(rt.a,{disabled:i||x.isCancelled},k?r.a.createElement(ge.a,{columns:2},r.a.createElement(ge.a.Row,null,r.a.createElement(ge.a.Column,null,r.a.createElement(W.a,{as:"h3"},"Customer Data:"),r.a.createElement("p",{style:{marginTop:"2rem"}},"Account Balance: $".concat(k.accountBalance))),r.a.createElement(ge.a.Column,null,r.a.createElement(vt.a,null,r.a.createElement(vt.a.Header,{as:"h5"},"".concat(k.firstName," ").concat(k.lastName)),r.a.createElement(vt.a.Meta,null,k.address),r.a.createElement(vt.a.Meta,null,"".concat(k.city,", ").concat(k.state," ").concat(k.zipcode)))))):null),r.a.createElement(rt.a,{disabled:i||x.isCancelled},r.a.createElement(fe.a,{celled:!0},r.a.createElement(fe.a.Header,null,r.a.createElement(fe.a.Row,null,r.a.createElement(fe.a.HeaderCell,null,r.a.createElement(ht.a,{minWidth:767},"Painting Name"),r.a.createElement(ht.a,{maxWidth:766},"Items:")),r.a.createElement(fe.a.HeaderCell,null,r.a.createElement(ht.a,{minWidth:767},"Artist")),r.a.createElement(fe.a.HeaderCell,null,r.a.createElement(ht.a,{minWidth:767},"Price")))),r.a.createElement(fe.a.Body,null,r.a.createElement(ft.a.Group,{animation:"slide down",duration:300},N?A.map(function(e){return r.a.createElement(Ct,{painting:e,history:y,isCompleted:x.isCompleted,edit:O,showControls:P,updateAll:w,user:C,key:e.id})}):null)),r.a.createElement(fe.a.Footer,null,r.a.createElement(fe.a.Row,null,r.a.createElement(fe.a.HeaderCell,{colSpan:"3"},r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",fontWeight:"bold"}},r.a.createElement("span",null,"Order Total: "),r.a.createElement("div",null,"$".concat(S(t)))))))))):r.a.createElement(r.a.Fragment,null)}function xt(e){var t=e.children;return r.a.createElement(fe.a,null,r.a.createElement(fe.a.Header,null,r.a.createElement(fe.a.Row,null,r.a.createElement(fe.a.HeaderCell,null,"Name"),r.a.createElement(fe.a.HeaderCell,null,"Status"),r.a.createElement(fe.a.HeaderCell,null,"Actions"))),r.a.createElement(fe.a.Body,null,t))}function It(){var e=Object(n.useContext)(ce).paintings,t=e.filter(function(e){return e.isSubmitted&&!e.isLive&&!e.isSold}).length,a=e.filter(function(e){return e.isLive&&!e.isSold}).length,l=e.filter(function(e){return e.isSold}).length;return r.a.createElement(r.a.Fragment,null,r.a.createElement(xe.a,{content:"This artist has ".concat(t," paintings pending approval"),trigger:r.a.createElement(Ie.a,{color:"orange"},r.a.createElement(q.a,{name:"pause"}),t)}),r.a.createElement(xe.a,{content:"This artist has ".concat(a," paintings available for sale"),trigger:r.a.createElement(Ie.a,{color:"blue"},r.a.createElement(q.a,{name:"bolt"}),a)}),r.a.createElement(xe.a,{content:"This artist has ".concat(l," sold paintings"),trigger:r.a.createElement(Ie.a,{color:"green"},r.a.createElement(q.a,{name:"box"}),l)}))}function kt(e){var t=e.artist;return r.a.createElement(fe.a.Row,null,r.a.createElement(fe.a.Cell,{selectable:!0},r.a.createElement(Ne,{id:t.id})),r.a.createElement(fe.a.Cell,null,r.a.createElement(It,null)),r.a.createElement(fe.a.Cell,null))}function Tt(e){var t=e.initialIcon,a=e.disabled,l=e.defaultColor,i=e.buttonText,c=e.submitActionThatReturnsPromise,o=e.style,u=Object(n.useState)(!1),s=Object(p.a)(u,2),m=s[0],d=s[1],E=Object(n.useState)(l),h=Object(p.a)(E,2),f=h[0],g=h[1],b=Object(n.useState)("edit"),v=Object(p.a)(b,2),y=v[0],C=v[1],O=Object(n.useState)(i),w=Object(p.a)(O,2),S=w[0],j=w[1];function x(){setTimeout(function(){d(!1),g("orange"),i&&j("error!"),k()},300)}function I(){setTimeout(function(){d(!1),C("check"),g("green"),i&&j("Submitted!"),k()},300)}function k(){setTimeout(function(){C(t),g(l),i&&j(i)},1e3)}return r.a.createElement(G.a,{icon:!0,style:o,disabled:a,loading:m,color:f,onClick:function(e){e.preventDefault(),d(!0),c().then(I).catch(x)}},r.a.createElement(q.a,{name:y}),S)}function Pt(e){var t=e.employee,a=e.edit,l=Object(n.useState)(t.canEditEmployees),i=Object(p.a)(l,2),c=i[0],o=i[1],u=Object(n.useState)(t.canEditInventory),s=Object(p.a)(u,2),m=s[0],d=s[1],E=Object(n.useState)(t.canEditUsers),h=Object(p.a)(E,2),f=h[0],g=h[1],b=Object(n.useState)(t.canProcessOrders),v=Object(p.a)(b,2),y=v[0],C=v[1],O=Object(n.useState)(!0),w=Object(p.a)(O,2),S=w[0],j=w[1];return r.a.createElement(fe.a.Row,null,r.a.createElement(fe.a.Cell,null,r.a.createElement(W.a,null,r.a.createElement(W.a.Content,null,t.user.username),r.a.createElement(W.a.Subheader,null,t.user.email))),r.a.createElement(fe.a.Cell,null,r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement(_.a.Checkbox,{label:"Administrator",checked:c,onChange:function(){j(!1),o(!c)}}),r.a.createElement(_.a.Checkbox,{label:"Edit Inventory",checked:m,onChange:function(){j(!1),d(!m)}}),r.a.createElement(_.a.Checkbox,{label:"Edit Users",checked:f,onChange:function(){j(!1),g(!f)}}),r.a.createElement(_.a.Checkbox,{label:"Edit Orders",checked:y,onChange:function(){j(!1),C(!y)}}))),r.a.createElement(fe.a.Cell,null,r.a.createElement(Tt,{initialIcon:"edit",disabled:S,buttonText:"Submit Changes",submitActionThatReturnsPromise:function(){return j(!0),a.employee({canEditEmployees:c,canEditInventory:m,canEditUsers:f,canProcessOrders:y},t.id)}})))}function At(e){var t=e.customer;return r.a.createElement(fe.a.Row,null,r.a.createElement(fe.a.Cell,null,r.a.createElement(W.a,{as:"h4",image:!0},t.imageUrl?r.a.createElement(ve.a,{circular:!0,src:t.imageUrl,alt:"".concat(t.firstName," ").concat(t.lastName)}):r.a.createElement(q.a,{name:"user"}),r.a.createElement(W.a.Content,null,"".concat(t.firstName," ").concat(t.lastName),r.a.createElement(W.a.Subheader,null,"".concat(t.city,", ").concat(t.state))))),r.a.createElement(fe.a.Cell,null),r.a.createElement(fe.a.Cell,null))}Tt.defaultProps={disabled:!1,defaultColor:null,buttonText:null,style:null};var Nt=r.a.createContext(),Dt=Nt.Consumer,Ft=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(g.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={users:[],get:{users:function(){var e=Object(E.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,H.users.getAll();case 3:return e.t1=e.sent,e.t2={users:e.t1},e.abrupt("return",e.t0.setState.call(e.t0,e.t2));case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},add:{user:function(e){return H.users.create(e).then(a.state.get.users)}},edit:{user:function(e,t){return H.users.edit(t,e).then(a.state.get.users)}}},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.state.get.users()}},{key:"render",value:function(){var e=this.props.children;return r.a.createElement(Nt.Provider,{value:this.state},e)}}]),t}(n.PureComponent);function Lt(e){var t=e.user,a=t.username,l=t.email,i=t.userType,c=t.isActive,o=t.id,u=e.edit,s=Object(n.useContext)(ce).showConfirm,m=Object(n.useState)(c),d=Object(p.a)(m,2),E=d[0],h=d[1],f=JSON.parse(sessionStorage.getItem("userdata")),g="customer"===i?"user":"employee"===i?"id card":"paint brush",b=function(){return u.user({isActive:!E},o).then(function(){return h(!E)})};return r.a.createElement(fe.a.Row,null,r.a.createElement(fe.a.Cell,null,r.a.createElement(W.a,{as:"h4",image:!0},r.a.createElement(q.a,{name:g}),r.a.createElement(W.a.Content,null,a,r.a.createElement(W.a.Subheader,null,l)))),r.a.createElement(fe.a.Cell,null,r.a.createElement(Q.a,{toggle:!0,label:E?"Active User":"Disabled User",disabled:f.id===o,checked:E,onChange:function(){E?s({title:"Are you sure you want to deactivate this user?",text:"They will no longer be able to log in at all!",id:o,confirmAction:b,confirmBtnColor:"orange",icon:"exclamation",btnIcon:"cancel",btnText:"Deactivate user"}):b()}})),r.a.createElement(fe.a.Cell,null))}function Ut(){var e=Object(n.useContext)(ce),t=e.artists,a=e.customers,l=e.user,i=e.employees,c=e.edit,o=[{menuItem:"Artists",render:function(){return r.a.createElement(je.a.Pane,null,r.a.createElement(xt,null,t.map(function(e){return r.a.createElement(kt,{key:e.id,artist:e,user:l})})))}},{menuItem:"Customers",render:function(){return r.a.createElement(je.a.Pane,null,r.a.createElement(xt,null,a.map(function(e){return r.a.createElement(At,{key:e.id,customer:e})})))}}];return l.employee.canEditEmployees&&o.push({menuItem:"Employees",render:function(){return r.a.createElement(je.a.Pane,null,r.a.createElement(xt,null,i.map(function(e){return r.a.createElement(Pt,{key:e.id,employee:e,user:l,edit:c})})))}},{menuItem:"All Users",render:function(){return r.a.createElement(je.a.Pane,null,r.a.createElement(xt,null,r.a.createElement(Dt,null,function(e){return r.a.createElement(r.a.Fragment,null,e.users.map(function(t){return r.a.createElement(Lt,Object.assign({key:t.id,user:t},e))}))})))}}),r.a.createElement(je.a,{panes:o},r.a.createElement(je.a.Pane,null,r.a.createElement($.a.Item,null,"Helllo"),r.a.createElement(xt,null,"Im a table")))}a(447);var Mt=a(86),Rt=a.n(Mt);function Bt(e){var t=e.children;return r.a.createElement(Rt.a,{minResolution:"1.33333dppx"},t)}function Ht(e){var t=e.children;return r.a.createElement(Rt.a,{maxResolution:"1.33332dppx"},t)}function zt(e){var t=e.children;return r.a.createElement(Rt.a,{minWidth:1100},t)}function Wt(e){var t=e.children;return r.a.createElement(Rt.a,{maxWidth:480},t)}function Gt(e){var t=e.children;return r.a.createElement(Rt.a,{minWidth:480,maxWidth:1100},t)}function qt(e){var t=e.showText,a=e.handleClick,l=Object(n.useContext)(ce).myCart.orderItems.length;return t?r.a.createElement($.a.Item,{key:"cart",onClick:a,value:"/cart",icon:r.a.createElement(q.a.Group,null,r.a.createElement(q.a,{name:"shopping cart"}),l?r.a.createElement(Ie.a,{floating:!0,circular:!0,size:"mini",color:"orange",style:{top:"-1.5em"}},l):null),name:"My Cart",label:{color:"orange",floating:!0,content:l}}):r.a.createElement(c.b,{to:"/cart"},r.a.createElement(X.a,{item:!0,icon:r.a.createElement(q.a.Group,null,r.a.createElement(q.a,{name:"shopping cart"}),l?r.a.createElement(Ie.a,{floating:!0,circular:!0,size:"mini",color:"orange",style:{top:"-1.5em"}},l):null)}))}function Vt(){var e=Object(n.useContext)(ce).showLogin;return r.a.createElement($.a.Menu,{position:"right"},r.a.createElement($.a.Item,{icon:"sign-in",onClick:function(t){t.preventDefault(),e()}}))}function Yt(){var e=Object(n.useContext)(ce).logout;return r.a.createElement(X.a.Item,{key:"signout",icon:"sign-out",text:"Sign Out",value:"signout",onClick:e})}function $t(e){var t=e.user,a=e.history;function n(e,t){var n=t.value;a.push(n)}if(t){if("employee"===t.userType){var l=t.employee;return r.a.createElement($.a.Menu,{position:"right"},r.a.createElement(X.a,{item:!0,icon:"bars"},r.a.createElement(X.a.Menu,null,l.canEditEmployees?r.a.createElement(X.a.Item,{key:"users",onClick:n,icon:"wrench",text:"Users",value:"/users"}):null,l.canEditInventory?r.a.createElement(X.a.Item,{key:"paintings",onClick:n,icon:"file image",text:"Paintings",value:"/paintings"}):null,l.canProcessOrders?r.a.createElement(X.a.Item,{key:"orders",onClick:n,icon:"box",text:"Orders",value:"/orders"}):null,r.a.createElement(X.a.Divider,null),r.a.createElement(Yt,null))))}if("customer"===t.userType)return r.a.createElement(r.a.Fragment,null,r.a.createElement($.a.Menu,{position:"right"},r.a.createElement(qt,{handleClick:n}),r.a.createElement(X.a,{item:!0,icon:"bars"},r.a.createElement(X.a.Menu,null,r.a.createElement(X.a.Item,{key:"favorites",onClick:n,icon:"paint brush",text:"Artists",value:"/artists"}),r.a.createElement(X.a.Item,{key:"orders",onClick:n,icon:"box",text:"My Orders",value:"/orders"}),r.a.createElement(X.a.Item,{key:"account",onClick:n,icon:"edit",text:"My Account",value:"/account"}),r.a.createElement(X.a.Divider,null),r.a.createElement(Yt,null)))));if("artist"===t.userType)return r.a.createElement($.a.Menu,{position:"right"},r.a.createElement(X.a,{item:!0,icon:"bars"},r.a.createElement(X.a.Menu,null,r.a.createElement(X.a.Item,{key:"paintings",onClick:n,icon:"file image",text:"My Paintings",value:"/paintings"}),r.a.createElement(X.a.Item,{key:"profile",onClick:n,icon:"address card",text:"My Profile",value:"/paintings"}),r.a.createElement(X.a.Item,{key:"account",icon:"edit",onClick:n,text:"My Account",value:"/account"}),r.a.createElement(X.a.Divider,null),r.a.createElement(Yt,null))))}return r.a.createElement(Vt,null)}function Jt(){var e=Object(n.useContext)(ce).logout;return r.a.createElement($.a.Item,{key:"signout",icon:"sign-out",text:"Sign Out",value:"signout",onClick:e})}function _t(e){var t=e.user,a=e.history;function n(e,t){var n=t.value;a.push(n)}if(t){var l=t.employee,i=t.artist;switch(t.userType){case"employee":return r.a.createElement($.a.Menu,{position:"right",size:"mini"},l.canEditUsers?r.a.createElement($.a.Item,{key:"users",onClick:n,icon:"wrench",name:"Users",value:"/users"}):null,l.canEditInventory?r.a.createElement($.a.Item,{key:"paintings",icon:"file image",onClick:n,name:"Paintings",value:"/paintings"}):null,l.canProcessOrders?r.a.createElement($.a.Item,{key:"orders",onClick:n,icon:"box",name:"Orders",value:"/orders"}):null,r.a.createElement(Jt,null));case"customer":return r.a.createElement($.a.Menu,{position:"right"},r.a.createElement($.a.Item,{key:"favorites",onClick:n,icon:"paint brush",name:"Artists",value:"/artists"}),r.a.createElement($.a.Item,{key:"account",onClick:n,icon:"edit",name:"Account",value:"/account"}),r.a.createElement(qt,{handleClick:n,showText:!0}),r.a.createElement(Jt,null));default:return r.a.createElement($.a.Menu,{position:"right"},r.a.createElement($.a.Item,{key:"paintings",onClick:n,icon:"file image",name:"Paintings",value:"/paintings"}),r.a.createElement($.a.Item,{key:"profile",onClick:n,icon:"file image",name:"Profile",value:"/artists/".concat(i.id)}),r.a.createElement($.a.Item,{key:"account",onClick:n,icon:"edit",name:"Account",value:"/account"}),r.a.createElement(Jt,null))}}return r.a.createElement(Vt,null)}function Kt(e){var t=e.user,a=e.history;function n(e,t){var n=t.value;a.push(n)}if(t){var l=t.employee;switch(t.userType){case"employee":return r.a.createElement($.a.Menu,{position:"right",size:"mini"},l.canEditUsers?r.a.createElement($.a.Item,{key:"users",onClick:n,icon:"wrench",name:"Users",value:"/users"}):null,l.canEditInventory?r.a.createElement($.a.Item,{key:"paintings",icon:"file image",onClick:n,name:"Paintings",value:"/paintings"}):null,l.canProcessOrders?r.a.createElement($.a.Item,{key:"orders",onClick:n,icon:"box",name:"Orders",value:"/orders"}):null,r.a.createElement(Jt,null));case"customer":return r.a.createElement($.a.Menu,{position:"right"},r.a.createElement($.a.Item,{key:"favorites",onClick:n,icon:"paint brush",name:"Artists",value:"/artists"}),r.a.createElement($.a.Item,{key:"account",onClick:n,icon:"edit",name:"My Account",value:"/account"}),r.a.createElement(qt,{handleClick:n,showText:!0}),r.a.createElement(Jt,null));default:return r.a.createElement($.a.Menu,{position:"right"},r.a.createElement($.a.Item,{key:"paintings",onClick:n,icon:"file image",name:"My Paintings",value:"/paintings"}),r.a.createElement($.a.Item,{key:"account",onClick:n,icon:"edit",name:"My Account",value:"/account"}),r.a.createElement(Jt,null))}}return r.a.createElement(Vt,null)}function Qt(){var e=Object(n.useContext)(ce),t=e.user,a=e.history,l=e.location;return r.a.createElement($.a,{className:"navbar",style:{backgroundColor:"#edf3f7"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"70%","@media (minWidth: 450px)":{width:"30%"}}},r.a.createElement($.a.Header,{as:"a",content:"Fine Consign",style:{fontFamily:"Euphoria Script",fontSize:"2.4rem",cursor:"pointer",color:"black"},onClick:function(){return a.push("/gallery")}})),r.a.createElement(Wt,null,r.a.createElement($t,{user:t,history:a,location:l})),r.a.createElement(Gt,null,r.a.createElement(_t,{user:t,history:a,location:l})),r.a.createElement(zt,null,r.a.createElement(Kt,{user:t,history:a,location:l})))}qt.defaultProps={showText:!1},$t.defaultProps={user:null},_t.defaultProps={user:null},Kt.defaultProps={user:null};var Xt=a(257),Zt=a.n(Xt),ea=a(258),ta=a.n(ea),aa=a(259),na=a.n(aa),ra=a(260),la=a.n(ra),ia=a(261),ca=a.n(ia),oa=a(262),ua=a.n(oa),sa={alt:"Artist paintbrushes in a mason jar",style:{width:"100%",height:"100vh",objectFit:"cover",objectPosition:"50% 0"}};function ma(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Wt,null,r.a.createElement(Bt,null,r.a.createElement(ve.a,Object.assign({src:ca.a},sa))),r.a.createElement(Ht,null,r.a.createElement(ve.a,Object.assign({src:ua.a},sa)))),r.a.createElement(Gt,null,r.a.createElement(Bt,null,r.a.createElement(ve.a,Object.assign({src:na.a},sa))),r.a.createElement(Ht,null,r.a.createElement(ve.a,Object.assign({src:la.a},sa)))),r.a.createElement(zt,null,r.a.createElement(Bt,null,r.a.createElement(ve.a,Object.assign({src:Zt.a},sa))),r.a.createElement(Ht,null,r.a.createElement(ve.a,Object.assign({src:ta.a},sa)))))}var da={mobile:{fontFamily:"Euphoria Script, cursive",fontSize:"4rem",fontWeight:"400",textAlign:"center"},desktop:{fontFamily:"Euphoria Script, cursive",fontSize:"8rem",fontWeight:"400",textAlign:"center"}};function pa(e){var t=e.position,a=e.children,l=e.history,i=Object(n.useState)(!1),c=Object(p.a)(i,2),o=c[0],u=c[1],s="hero"===t?"title--hero":"title--navbar",m=null;return"navbar"===t&&(m=function(){return l.push("/gallery")}),Object(n.useEffect)(function(){setTimeout(function(){return u(!0)},200)},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:s},r.a.createElement("div",null,r.a.createElement(ft.a,{visible:o,animation:"scale",duration:800},r.a.createElement(W.a,{as:"h1",style:da.desktop,onClick:m,onKeyUp:m,content:"Fine Consign"}))),a))}pa.defaultProps={children:null,history:null};a(448);var Ea=a(263),ha=a.n(Ea);function fa(){var e=Object(n.useState)(!1),t=Object(p.a)(e,2),a=t[0],l=t[1],i=Object(n.useContext)(ce),c=i.history,o=i.showLogin;return Object(n.useEffect)(function(){setTimeout(function(){return l(!0)},600)},[]),r.a.createElement(ft.a,{visible:a,animation:"scale",duration:800},r.a.createElement("div",{className:"loginRegisterBox"},r.a.createElement(W.a,{className:"loginRegisterBox--header"},"Go to Gallery"),r.a.createElement(ve.a,{src:ha.a,onClick:function(){return c.push("/gallery")},fluid:!0,style:{cursor:"pointer",borderRadius:"6px",marginBottom:"2rem"}}),r.a.createElement(G.a,{fluid:!0,icon:!0,labelPosition:"left",onClick:o},r.a.createElement(q.a,{name:"sign-in"}),"Log in")))}function ga(){return r.a.createElement("div",null,r.a.createElement(ma,null),r.a.createElement(pa,{position:"hero"}),r.a.createElement(fa,null))}var ba=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(g.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(l)))).makeProtectedRoutes=function(e){return e.map(function(e){return r.a.createElement(he,Object.assign({},e,{key:e.path}))})},a.makeClearRoutes=function(e){return e.map(function(e){return r.a.createElement(y.b,Object.assign({},e,{key:e.path}))})},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.b,{path:"/:subpath",render:function(e){return r.a.createElement(de.a,null,r.a.createElement(Qt,e))}}),r.a.createElement(y.b,{exact:!0,path:"/",render:function(e){return r.a.createElement(ga,e)}}),r.a.createElement(pe.a,{style:{marginTop:"1rem"}},r.a.createElement(oe,null,function(t){var a=t.user;return r.a.createElement(r.a.Fragment,null,e.makeClearRoutes(function(e){return[{path:"/artists",render:function(e){return r.a.createElement(Ze,e)},exact:!0},{path:"/artists/:artistId(\\d+)",render:function(e){return r.a.createElement(ut,Object.assign({},e,{id:parseInt(e.match.params.artistId,10)}))},exact:!0},{path:"/gallery",render:function(e){return r.a.createElement(Se,e)},exact:!0},{path:"/cart",render:function(){return r.a.createElement(oe,null,function(e){return r.a.createElement(bt,e)})},exact:!0},{path:"/gallery/:paintingId(\\d+)",render:function(t){var a=parseInt(t.match.params.paintingId,10);return e&&"customer"!==e.userType?r.a.createElement(y.a,{to:"/paintings/".concat(a)}):r.a.createElement(Ge,Object.assign({},t,{id:a}))},exact:!0}]}(a)),e.makeProtectedRoutes(function(e){return[{path:"/users",render:function(e){return r.a.createElement(Ut,e)},isAuthorized:et(e,"canEditUsers"),exact:!0},{path:"/orders",render:function(e){return r.a.createElement(Ae,e)},isAuthorized:et(e,"canProcessOrders"),exact:!0},{path:"/orders/:orderId(\\d+)",render:function(e){var t=parseInt(e.match.params.orderId,10);return r.a.createElement(jt,Object.assign({},e,{id:t}))},isAuthorized:tt(e),exact:!0},{path:"/paintings",render:function(e){return r.a.createElement(Qe,e)},isAuthorized:at(e),exact:!0},{path:"/paintings/:paintingId(\\d+)/edit",render:function(t){var a=t.history,n=t.match;return r.a.createElement(oe,null,function(t){var l=t.paintings,i=t.artists,c=t.edit,o=t.showError,u=parseInt(n.params.paintingId,10),s=l.find(function(e){return e.id===u});return s?("artist"===e.userType?e.artist.id!==s.artistId&&(s=null,o("This is not your painting!")):e.employee.canEditInventory||(o("You do not have permission to edit paintings.Please talk to your supervisor."),s=null),s?r.a.createElement(st,{painting:s,showError:o,edit:c,id:u,user:e,history:a,artists:i}):null):null})},isAuthorized:at(e),exact:!0},{path:"/account",render:function(e){return r.a.createElement(oe,null,function(t){return r.a.createElement(it,Object.assign({},t,e))})},isAuthorized:tt(e),exact:!0},{path:"/paintings/:paintingId(\\d+)",render:function(e){var t=parseInt(e.match.params.paintingId,10);return r.a.createElement(Ge,Object.assign({},e,{id:t}))},isAuthorized:!0,exact:!0},{path:"/artists/:artistId(\\d+)/edit",render:function(t){var a=t.history,n=t.match;return r.a.createElement(oe,null,function(t){var l=t.artists,i=t.edit,c=t.showError,o=parseInt(n.params.artistId,10),u=l.find(function(e){return e.id===o});return u?("artist"===e.userType?e.artist.id!==u.id&&(u=null,c("This is not your profile!",a.goBack)):e.employee.canEditCustomers||(c("You do not have permission to edit artists.Please talk to your supervisor.",a.goBack),u=null),u?r.a.createElement(dt,{artist:u,showError:c,edit:i,id:o,user:e,history:a}):null):null})},isAuthorized:nt(e),exact:!0}]}(a)))})))}}]),t}(n.PureComponent);i.a.render(r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{fonts:[{font:"Euphoria Script",weights:[400]}]}),r.a.createElement(c.a,null,r.a.createElement(se,null,r.a.createElement(Ft,null,r.a.createElement(ba,null))))),document.getElementById("root"))}},[[274,1,2]]]);
//# sourceMappingURL=main.926dd8ef.chunk.js.map